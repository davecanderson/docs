import{_ as e,a as p,b as o,c,d as l}from"./chunks/screenshot.3c6d20a0.js";import{_ as i}from"./chunks/screenshot.8922b6c8.js";import{_ as u,a as r}from"./chunks/custom-new-errors.809a5a0a.js";import{_ as k,a as d}from"./chunks/locode-css.ab166ea2.js";import{_ as m}from"./chunks/welcome.1a943c36.js";import{_ as g}from"./chunks/api-docs-livereload.7d05fe81.js";import{_ as h}from"./chunks/shared-api-reference.12884907.js";import{_ as y,a as w}from"./chunks/tracks-formatters.460d1e90.js";import{_ as f,a as b,b as v,c as x,d as t}from"./chunks/job-application-attachments.f270e7b5.js";import{_ as A}from"./chunks/create-job-application.00386748.js";import{_ as C,a as q}from"./chunks/audit-history-update.74fe4dee.js";import{_ as I}from"./chunks/users-edit-custom.163cf417.js";import{_ as F,o as T,c as S,a as s,d as n,b as a}from"./app.2aea72c0.js";const hn='{"title":"ServiceStack v6.1","description":"","frontmatter":{"title":"ServiceStack v6.1"},"headers":[{"level":2,"title":"Locode vs Low Code RAD tools","slug":"locode-vs-low-code-rad-tools"},{"level":3,"title":"Built on AutoQuery","slug":"built-on-autoquery"},{"level":2,"title":"Getting started with Locode","slug":"getting-started-with-locode"},{"level":2,"title":"Database-First","slug":"database-first"},{"level":3,"title":"Exporting to Code-First Types","slug":"exporting-to-code-first-types"},{"level":2,"title":"Code-First","slug":"code-first"},{"level":3,"title":"Declarative Dev Model","slug":"declarative-dev-model"},{"level":2,"title":"Custom Forms","slug":"custom-forms"},{"level":2,"title":"Custom Fields and Inputs","slug":"custom-fields-and-inputs"},{"level":3,"title":"Field","slug":"field"},{"level":3,"title":"Custom Form CSS","slug":"custom-form-css"},{"level":2,"title":"Custom HTML Components","slug":"custom-html-components"},{"level":2,"title":"@servicestack/ui TypeScript Definitions","slug":"servicestack-ui-typescript-definitions"},{"level":2,"title":"API Reference","slug":"api-reference"},{"level":3,"title":"Library Reference","slug":"library-reference"},{"level":3,"title":"UIs","slug":"uis"},{"level":2,"title":"Format Functions","slug":"format-functions"},{"level":3,"title":"Custom Format Function","slug":"custom-format-function"},{"level":2,"title":"Hybrid Locode Apps","slug":"hybrid-locode-apps"},{"level":3,"title":"Blazor Dev Model Preview","slug":"blazor-dev-model-preview"},{"level":2,"title":"Managed File Uploads","slug":"managed-file-uploads"},{"level":3,"title":"Basic File Upload Example","slug":"basic-file-upload-example"},{"level":3,"title":"Using File Upload Locations in APIs","slug":"using-file-upload-locations-in-apis"},{"level":3,"title":"Managed Multi File Upload example","slug":"managed-multi-file-upload-example"},{"level":3,"title":"Uploading Files from C#","slug":"uploading-files-from-c"},{"level":3,"title":"Using HttpClient MultipartFormDataContent","slug":"using-httpclient-multipartformdatacontent"},{"level":3,"title":"Versatile Multi Part Content Type APIs","slug":"versatile-multi-part-content-type-apis"},{"level":3,"title":"Uploading Files from JS/TypeScript","slug":"uploading-files-from-js-typescript"},{"level":3,"title":"Substitutable Virtual File Providers","slug":"substitutable-virtual-file-providers"},{"level":3,"title":"Memory Virtual File Sources","slug":"memory-virtual-file-sources"},{"level":3,"title":"Configuring Database-First Apps","slug":"configuring-database-first-apps"},{"level":3,"title":"HTTP Range Streaming support for large S3 downloads","slug":"http-range-streaming-support-for-large-s3-downloads"},{"level":2,"title":"AutoQuery CRUD POCO References","slug":"autoquery-crud-poco-references"},{"level":2,"title":"Audit History Tracking","slug":"audit-history-tracking"},{"level":3,"title":"Enabling Crud Events","slug":"enabling-crud-events"},{"level":3,"title":"Enabling Audit History Tracking on Data Models and APIs","slug":"enabling-audit-history-tracking-on-data-models-and-apis"},{"level":3,"title":"Audit Info in Locode","slug":"audit-info-in-locode"},{"level":2,"title":"ServiceStack.Redis","slug":"servicestack-redis"},{"level":3,"title":"Support for ACL Usernames","slug":"support-for-acl-usernames"},{"level":3,"title":"New RedisClient APIs","slug":"new-redisclient-apis"},{"level":2,"title":"Breaking Changes","slug":"breaking-changes"},{"level":3,"title":"Customizing Inputs and Fields in Code","slug":"customizing-inputs-and-fields-in-code"},{"level":3,"title":"@servicestack/client upgraded to ES2015","slug":"servicestack-client-upgraded-to-es2015"}],"relativePath":"releases/v6_1.md"}',P={},D=s('<link rel="stylesheet" href="/css/release.css"><p>We&#39;re excited to announce <a href="https://www.locode.dev" target="_blank" rel="noopener noreferrer">locode.dev</a>, our <strong>Rapid Application Development</strong> solution to quickly develop beautiful Full Stack CRUD Apps around <strong>AutoQuery APIs</strong>, suitable for a wide number of use-cases including:</p><ul><li>Rapid prototyping by creating an instant UI around existing <strong>Database-First</strong> RDBMS tables</li><li>Declarative <strong>Code-First</strong> development model with unprecedented customizability (exportable from Database-First)</li><li><strong>Hybrid Apps</strong> with a custom UI to optimize common workflows whilst using Locode&#39;s Auto UI to manage Back office tables</li></ul><p>As Locode&#39;s UI is built on top of ServiceStack&#39;s industrial strength AutoQuery APIs, Hybrid Apps can benefit from its superior end-to-end typed development model for creating Web, Mobile &amp; Desktop Apps.</p><p>We&#39;ve created Live Demos with full source, Docs &amp; Videos covering all these popular use-cases, starting with Locode&#39;s Introductory video:</p>',5),U=n("div",{class:"my-16 px-4 sm:px-6"},[n("div",{class:"text-center"},[n("h1",{class:"text-4xl sm:text-5xl md:text-6xl tracking-tight font-extrabold text-gray-900"},[n("span",{class:"block"},"Creating Beautiful CRUD Apps"),n("span",{class:"block text-indigo-600"},"with Locode")])]),n("div",{class:"my-8"},[n("iframe",{class:"video-hd",src:"https://www.youtube.com/embed/hkuO_DMFXmc",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),_=s('<div class="relative bg-white py-4"><div class="mx-auto max-w-md px-4 text-center sm:max-w-3xl sm:px-6 lg:max-w-7xl lg:px-8"><h2 class="text-base font-semibold uppercase tracking-wider text-indigo-600">Develop faster</h2><p class="mt-2 text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl">Everything you need to develop RDBMS Web Apps</p><p class="mx-auto mt-5 max-w-prose text-xl text-gray-500"> Locode enables creation of intelligent, highly customizable, beautiful UX Friendly UIs, powered by rich metadata &amp; capabilities of typed AutoQuery APIs </p><div class="mt-12"><div class="grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3"><div class="pt-6"><div class="flow-root rounded-lg bg-gray-50 px-6 pb-8"><div class="-mt-6"><div><span class="inline-flex items-center justify-center rounded-md bg-indigo-500 p-3 shadow-lg"><svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M1.75 1.75h12.5v1.5l-5 5.5v4l-2.5 1.5v-5.5l-5-5.5z"></path></svg></span></div><h3 class="mt-8 text-lg font-medium tracking-tight text-gray-900">Powerful Filtering</h3><p class="mt-5 text-base text-gray-500"> Multiple flexible query filters can be applied to any searchable column </p></div></div></div><div class="pt-6"><div class="flow-root rounded-lg bg-gray-50 px-6 pb-8"><div class="-mt-6"><div><span class="inline-flex items-center justify-center rounded-md bg-indigo-500 p-3 shadow-lg"><svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><circle cx="16" cy="19" r="2" fill="currentColor"></circle><path fill="currentColor" d="M23.777 18.479A8.64 8.64 0 0 0 16 13a8.64 8.64 0 0 0-7.777 5.479L8 19l.223.521A8.64 8.64 0 0 0 16 25a8.64 8.64 0 0 0 7.777-5.479L24 19ZM16 23a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4Z"></path><path fill="currentColor" d="M27 3H5a2 2 0 0 0-2 2v22a2 2 0 0 0 2 2h22a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2ZM5 5h22v4H5Zm0 22V11h22v16Z"></path></svg></span></div><h3 class="mt-8 text-lg font-medium tracking-tight text-gray-900">Custom Views</h3><p class="mt-5 text-base text-gray-500"> Users can maintain their own persistent query preferences for each table &amp; lookup view </p></div></div></div><div class="pt-6"><div class="flow-root rounded-lg bg-gray-50 px-6 pb-8"><div class="-mt-6"><div><span class="inline-flex items-center justify-center rounded-md bg-indigo-500 p-3 shadow-lg"><svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path fill="currentColor" d="M200 24H72a16 16 0 0 0-16 16v24H40a16 16 0 0 0-16 16v96a16 16 0 0 0 16 16h16v24a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16V40a16 16 0 0 0-16-16Zm-40 80h40v48h-40Zm40-16h-40v-8a16 16 0 0 0-16-16V40h56ZM72 40h56v24H72ZM40 80h104v96H40Zm32 112h56v24H72Zm72 24v-24a16 16 0 0 0 16-16v-8h40v48Zm-76.4-68.8L82 128l-14.4-19.2a8 8 0 1 1 12.8-9.6L92 114.7l11.6-15.5a8 8 0 0 1 12.8 9.6L102 128l14.4 19.2a8 8 0 0 1-1.6 11.2a7.7 7.7 0 0 1-4.8 1.6a8 8 0 0 1-6.4-3.2L92 141.3l-11.6 15.5A8 8 0 0 1 74 160a7.7 7.7 0 0 1-4.8-1.6a8 8 0 0 1-1.6-11.2Z"></path></svg></span></div><h3 class="mt-8 text-lg font-medium tracking-tight text-gray-900">Export to Excel</h3><p class="mt-5 text-base text-gray-500"> Users can export their current filtered table view to CSV and open in Excel </p></div></div></div><div class="pt-6"><div class="flow-root rounded-lg bg-gray-50 px-6 pb-8"><div class="-mt-6"><div><span class="inline-flex items-center justify-center rounded-md bg-indigo-500 p-3 shadow-lg"><svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path></svg></span></div><h3 class="mt-8 text-lg font-medium tracking-tight text-gray-900">Managed File Uploads</h3><p class="mt-5 text-base text-gray-500"> Support for single &amp; multi file uploads with built-in integration in AutoQuery CRUD APIs </p></div></div></div><div class="pt-6"><div class="flow-root rounded-lg bg-gray-50 px-6 pb-8"><div class="-mt-6"><div><span class="inline-flex items-center justify-center rounded-md bg-indigo-500 p-3 shadow-lg"><svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg></span></div><h3 class="mt-8 text-lg font-medium tracking-tight text-gray-900">Declarative Auth &amp; Validation</h3><p class="mt-5 text-base text-gray-500"> Flexible declarative Auth &amp; Validation Rules inc. model binding in a capability driven UI </p></div></div></div><div class="pt-6"><div class="flow-root rounded-lg bg-gray-50 px-6 pb-8"><div class="-mt-6"><div><span class="inline-flex items-center justify-center rounded-md bg-indigo-500 p-3 shadow-lg"><svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></span></div><h3 class="mt-8 text-lg font-medium tracking-tight text-gray-900">Highly Extensible</h3><p class="mt-5 text-base text-gray-500"> Unprecedented flexible declarative dev model, support for custom APIs, UI Forms, formatters... </p></div></div></div></div></div></div></div><p>Our <a href="/releases/v6">last v6 release</a> saw the introduction of <a href="/api-explorer">API Explorer</a>, a built-in UI <strong>optimized for developers</strong> to discover, learn &amp; quickly try out all accessible APIs in a ServiceStack App. <strong>Locode</strong> is a new built-in UI created using the same technology but is instead <strong>optimized for users</strong>.</p><h2 id="locode-vs-low-code-rad-tools" tabindex="-1">Locode vs Low Code RAD tools <a class="header-anchor" href="#locode-vs-low-code-rad-tools" aria-hidden="true">#</a></h2><p>RAD code-gen tools typically generates tightly-coupled &amp; purpose-specific UIs and Server Controllers, whereas we&#39;ve instead made AutoQuery APIs more sophisticated and expanded its dev model to encompass customizing UI functionality &amp; behavior. A high-level view of these approaches can be broadly summarized as:</p><table><thead><tr><th>Locode</th><th>Low-Code Development Platforms</th></tr></thead><tbody><tr><td>Model &amp; Contract First</td><td>Visual Editor First</td></tr><tr><td>Less code to maintain</td><td>Large code generation</td></tr><tr><td>Override only what you need</td><td>Split responsibility between visual editor &amp; custom code</td></tr></tbody></table><p><a href="https://www.radzen.com" target="_blank" rel="noopener noreferrer">Radzen</a> is a popular Low-code RAD tool for .NET who also have a <a href="https://demos.radzen.com/categories" target="_blank" rel="noopener noreferrer">Northwind Sample Demo</a> with <a href="https://github.com/radzenhq/radzen-examples/tree/master/NorthwindDashboard" target="_blank" rel="noopener noreferrer">full source code</a> so we can see what this looks like in practice vs Locode Northwind Demo:</p><div class="bg-white pb-8 pb-12"><div class="pt-8 overflow-hidden sm:pt-12 lg:relative lg:py-48"><div class="mx-auto max-w-md px-4 sm:max-w-3xl sm:px-6 lg:px-8 lg:max-w-7xl lg:grid lg:grid-cols-2 lg:gap-24"><div><div><img class="h-11 w-auto" src="'+e+'" alt="Northwind Logo"></div><div class="mt-20"><div><a href="https://northwind.locode.dev/locode" class="inline-flex space-x-4"><span class="rounded bg-indigo-50 px-2.5 py-1 text-xs font-semibold text-indigo-600 tracking-wide uppercase"> What&#39;s new </span><span class="inline-flex items-center text-sm font-medium text-indigo-600 space-x-1"><span>Open Northwind in Locode</span><svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></span></a></div><div class="mt-6 sm:max-w-xl"><h1 class="text-4xl font-extrabold text-gray-900 tracking-tight sm:text-5xl"> Northwind Auto Locode </h1><p class="mt-6 text-xl text-gray-500"> Northwind Auto is a customized database-first Northwind App using <a class="text-indigo-600" href="/autoquery-autogen">AutoGen</a> to generate <a class="text-indigo-600" href="/autoquery-rdbms">AutoQuery</a> &amp; <a class="text-indigo-600" href="/autoquery-crud">CRUD</a> APIs in less than <span class="font-semibold text-gray-900">120 Lines of Code</span> in <a class="text-indigo-600" href="https://github.com/NetCoreApps/NorthwindAuto/blob/master/Configure.AppHost.cs">Configure.AppHost.cs</a></p></div><div class="mt-6"><p class="text-2xl font-medium text-gray-900 mb-3"> Explore Features </p><div class="flex items-center mb-2"><svg class="w-6 h-6 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g fill="none"><path d="M4 5c0-1.007.875-1.755 1.904-2.223C6.978 2.289 8.427 2 10 2s3.022.289 4.096.777C15.125 3.245 16 3.993 16 5v4.758a4.485 4.485 0 0 0-1-.502V6.698a4.92 4.92 0 0 1-.904.525C13.022 7.711 11.573 8 10 8s-3.022-.289-4.096-.777A4.92 4.92 0 0 1 5 6.698V15c0 .374.356.875 1.318 1.313c.916.416 2.218.687 3.682.687c.22 0 .437-.006.65-.018c.447.367.966.65 1.534.822c-.68.127-1.417.196-2.184.196c-1.573 0-3.022-.289-4.096-.777C4.875 16.755 4 16.007 4 15V5zm1 0c0 .374.356.875 1.318 1.313C7.234 6.729 8.536 7 10 7s2.766-.27 3.682-.687C14.644 5.875 15 5.373 15 5c0-.374-.356-.875-1.318-1.313C12.766 3.271 11.464 3 10 3s-2.766.27-3.682.687C5.356 4.125 5 4.627 5 5zm8.5 12c.786 0 1.512-.26 2.096-.697l2.55 2.55a.5.5 0 1 0 .708-.707l-2.55-2.55A3.5 3.5 0 1 0 13.5 17zm0-1a2.5 2.5 0 1 1 0-5a2.5 2.5 0 0 1 0 5z" fill="currentColor"></path></g></svg><a class="text-xl text-indigo-600" href="https://northwind.locode.dev/locode">Manage database with Locode</a></div><div class="flex items-center mb-2"><svg class="w-6 h-6 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 32"><g fill="currentColor"><path d="M27.464 2.314a.501.501 0 0 0-.698-.257L14.86 8.339a.499.499 0 0 0-.233.621l.245.641l-6.873 3.769a.5.5 0 0 0-.222.63l.228.549l-7.299 3.488a.5.5 0 0 0-.246.643l1.498 3.61a.5.5 0 0 0 .629.28l7.625-2.701l.228.549a.5.5 0 0 0 .601.289l7.276-2.097l.218.569a.497.497 0 0 0 .612.299l13-4a.498.498 0 0 0 .317-.663l-5-12.501zM2.7 21.469l-1.134-2.734l6.823-3.261l1.439 3.47L2.7 21.469zm8.491-1.846l-.238-.574l-1.843-4.445l-.238-.573l6.336-3.475l2.374 6.134l.375.981l-6.766 1.952zm8.109-1.238l-.203-.531c-.003-.011-.001-.024-.006-.035l-.618-1.597l-2.754-7.206l11.023-5.815l4.592 11.48L19.3 18.385z"></path><path d="M28.964.314a.5.5 0 0 0-.929.371l6 15a.502.502 0 0 0 .651.279a.501.501 0 0 0 .279-.65l-6.001-15z"></path><path d="M18 21h-3c-1.14 0-2 .86-2 2v1.315l-5.879 6.859a.5.5 0 1 0 .758.651L13.73 25H16v6.5a.5.5 0 0 0 1 0V25h2.27l5.85 6.825a.497.497 0 0 0 .705.054a.5.5 0 0 0 .054-.705L20 24.315v-1.24C20 21.912 19.122 21 18 21zm1 3h-5v-1c0-.589.411-1 1-1h3c.57 0 1 .462 1 1.075V24z"></path></g></svg><a class="text-xl text-indigo-600" href="https://northwind.locode.dev/ui">Explore APIs in API Explorer</a></div><div class="mt-6 flex"><div class="rounded-md shadow lg:mt-0 lg:ml-10 lg:flex-shrink-0"><a href="https://github.com/NetCoreApps/NorthwindAuto/archive/refs/heads/master.zip" class="flex hover:no-underline items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-gray-900 bg-white hover:bg-gray-50"> Download Northwind.zip </a></div></div></div></div></div></div><div class="sm:mx-auto sm:max-w-3xl sm:px-6"><div class="py-12 sm:relative sm:mt-12 sm:py-16 lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2"><div class="hidden sm:block"><div class="absolute inset-y-0 left-1/2 w-screen bg-gray-50 rounded-l-3xl lg:left-80 lg:right-0 lg:w-full"></div><svg class="absolute top-8 right-1/2 -mr-3 lg:m-0 lg:left-0" width="404" height="392" fill="none" viewBox="0 0 404 392"><defs><pattern id="837c3e70-6c3a-44e6-8854-cc48c737b659" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><rect x="0" y="0" width="4" height="4" class="text-gray-200" fill="currentColor"></rect></pattern></defs><rect width="404" height="392" fill="url(#837c3e70-6c3a-44e6-8854-cc48c737b659)"></rect></svg></div><div class="relative pl-4 -mr-40 sm:mx-auto sm:max-w-3xl sm:px-0 lg:max-w-none lg:h-full lg:pl-12"><a href="https://northwind.locode.dev/locode"><img class="w-full rounded-md shadow-xl ring-1 ring-black ring-opacity-5 lg:h-full lg:w-auto lg:max-w-none" src="'+i+'" alt=""></a></div></div></div></div></div><p>A high-level overview of their respective code bases highlights the differences of both approaches:</p><table><thead><tr><th>Locode Northwind</th><th>Radzen Northwind</th></tr></thead><tbody><tr><td><strong>~120 lines</strong> of C#</td><td><strong>~4500 lines</strong> of C# (generated)</td></tr><tr><td><strong>29 lines</strong> for custom Home Page</td><td><strong>10k+ lines</strong> of Angular HTML/TS (generated)</td></tr><tr><td>Custom UI with HTML Components</td><td>Custom UI with Angular or Blazor Components</td></tr></tbody></table><p>Essentially Locode provides a highly functional UI out-of-the-box that doesn&#39;t rely on code-gen that allows you to only override the Custom UI or Custom API implementation when needed. RAD tools are still a better choice for developers preferring the assistance of a Visual Designer, whereas Locode&#39;s declarative dev model is optimal for devs preferring a Code-First dev model.</p><h3 id="built-on-autoquery" tabindex="-1">Built on AutoQuery <a class="header-anchor" href="#built-on-autoquery" aria-hidden="true">#</a></h3><p>Locode reduces the development to effort of creating Full Stack Apps down to declaring your Data Models and APIs with simple POCOs to define the precise schema of the underlying RDBMS tables and its API DTO contracts, that can then benefit from ServiceStack&#39;s:</p><ul><li>Productive end-to-end <a href="https://servicestack.net/service-reference" target="_blank" rel="noopener noreferrer">typed Development Model in 9 languages</a></li><li><a href="/locode/declarative">Declarative Dev Model</a> for defining Authentication, Validation, Documentation &amp; UI Customizations</li><li>Beautiful, UX-Friendly, capability-based Customizable UI in <a href="https://www.locode.dev" target="_blank" rel="noopener noreferrer">Locode</a></li><li>Rich analysis, API discoverability &amp; <a href="https://docs.servicestack.net/api-explorer#code-tab" target="_blank" rel="noopener noreferrer">simplified client integrations</a> in <a href="https://docs.servicestack.net/api-explorer" target="_blank" rel="noopener noreferrer">API Explorer</a></li><li>Powerful querying capabilities in <a href="https://docs.servicestack.net/autoquery" target="_blank" rel="noopener noreferrer">AutoQuery</a></li><li>Full executable <a href="https://docs.servicestack.net/autoquery-audit-log" target="_blank" rel="noopener noreferrer">Audit History Tracking</a></li><li>Access to ServiceStack&#39;s rich ecosystem of <a href="https://docs.servicestack.net/why-servicestack#multiple-clients" target="_blank" rel="noopener noreferrer">typed clients, versatile formats &amp; endpoints</a></li><li>Seamless integrations with <a href="https://docs.servicestack.net/openapi" target="_blank" rel="noopener noreferrer">Open API</a>, interactive <a href="https://docs.servicestack.net/jupyter-notebooks" target="_blank" rel="noopener noreferrer">Jupyter Notebooks</a> &amp; <a href="https://apps.servicestack.net/" target="_blank" rel="noopener noreferrer">Instant Client Apps</a></li></ul><p>And access to ServiceStack&#39;s rich ecosystem of features, most centered around your typed API contracts making them easy to apply to your existing Services.</p><p>All benefits attainable without needing to write a single line of implementation logic thanks to the default implementations in AutoQuery Services &amp; Auto UIs in Locode, API Explorer &amp; Swagger UI. At the same time when needed the default behavior can be overridden at multiple levels, from custom AutoQuery implementations on the server to custom UIs on the client.</p><h2 id="getting-started-with-locode" tabindex="-1">Getting started with Locode <a class="header-anchor" href="#getting-started-with-locode" aria-hidden="true">#</a></h2><p>Locode is a feature built into ServiceStack that provides a user-friendly interface to manage data using AutoQuery CRUD services, <a href="/ormlite/installation">supporting 4 major RDBMS providers</a> including PostgreSQL, SQL Server, MySQL and SQLite.</p><p>AutoQuery services can be generated directly from your database schema or use Plain Old C# Objects (POCOs) to define its CRUD behaviour that can be further customized &amp; extended and <a href="/locode/declarative">customized using C# attributes</a>.</p><div class="mt-8 pb-4 flex justify-center space-x-6"><a href="/locode/database-first" class="hover:no-underline inline-flex items-center px-6 py-4 border border-transparent shadow-sm text-2xl rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"><svg xmlns="http://www.w3.org/2000/svg" class="-ml-1 mr-3 h-8 w-8" viewBox="0 0 48 48"><path fill="currentColor" fill-rule="evenodd" d="M39 9.75v6.429c0 2.07-6.716 3.75-15 3.75c-8.284 0-15-1.68-15-3.75V9.75C9 7.679 15.716 6 24 6c8.284 0 15 1.679 15 3.75ZM9.621 19.714c1.844 1.55 7.584 2.679 14.379 2.679s12.535-1.13 14.379-2.679c.404.34.621.7.621 1.072v6.428c0 2.071-6.716 3.75-15 3.75c-8.284 0-15-1.679-15-3.75v-6.428c0-.373.217-.732.621-1.072ZM24 33.68c-6.795 0-12.535-1.13-14.379-2.679c-.404.34-.621.7-.621 1.071V38.5c0 2.071 6.716 3.75 15 3.75c8.284 0 15-1.679 15-3.75v-6.429c0-.372-.217-.731-.621-1.071c-1.844 1.549-7.584 2.679-14.379 2.679Zm8.333 3.654a1.167 1.167 0 1 1-2.333 0a1.167 1.167 0 0 1 2.333 0Zm3.5 0a1.167 1.167 0 1 0 0-2.333a1.167 1.167 0 0 0 0 2.333Z" clip-rule="evenodd"></path></svg> Database-First </a><a href="/locode/code-first" class="hover:no-underline inline-flex items-center px-6 py-4 border border-transparent shadow-sm text-2xl rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"><svg xmlns="http://www.w3.org/2000/svg" class="-ml-1 mr-3 h-8 w-8" viewBox="0 0 24 24"><path fill="currentColor" d="M8.01 18.02L2 12.01L8.01 6l1.415 1.414l-4.6 4.6l4.6 4.6l-1.414 1.406H8.01Zm7.979 0l-1.413-1.413l4.6-4.6l-4.6-4.6L15.99 6L22 12.01l-6.01 6.01h-.001Z"></path></svg> Code-First </a></div><h2 id="database-first" tabindex="-1">Database-First <a class="header-anchor" href="#database-first" aria-hidden="true">#</a></h2><p>Using <a href="/autoquery-autogen">AutoQuery&#39;s AutoGen</a> enables the quickest way to modernize an existing database by generating Data Models &amp; AutoQuery CRUD APIs from RDBMS table schemas. From Locode&#39;s point of view, the result is indistinguishable to <a href="/locode/code-first">Code-First</a> where instead of developers defining Data Models &amp; API Contracts in code they&#39;re dynamically generated by AutoGen at runtime, on Startup.</p><p>The difference is how APIs &amp; Types are customized, with Code-First Types able to naturally access the <a href="/locode/declarative">Declarative Dev Model</a> using C# Attributes, Database-First Models instead need to dynamically add attributes at runtime using AutoGen&#39;s Type &amp; Service filters.</p><div class="pt-4 mx-auto max-w-md px-4 text-center sm:px-6 sm:max-w-3xl lg:px-8 lg:max-w-7xl"><div><p class="mt-2 text-3xl font-extrabold text-gray-900 tracking-tight sm:text-4xl"> Database-first Example Locode App </p><p class="mt-5 max-w-prose mx-auto text-xl text-gray-500"> To demonstrate a database-first development workflow we&#39;ve enabled <a class="text-indigo-600" href="/autoquery-autogen">AutoGen</a> on the <b>Northwind</b> sample database to generate <a class="text-indigo-600" href="/autoquery-rdbms">AutoQuery</a> &amp; <a class="text-indigo-600" href="/autoquery-crud">CRUD</a> APIs whose capabilities are used to power the custom Northwind Locode App </p></div></div>',23),R=n("div",{class:"py-8 max-w-7xl mx-auto px-4 sm:px-6"},[n("iframe",{class:"video-hd",width:"560",height:"315",src:"https://www.youtube.com/embed/NiTp5Z_5U2Y",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})],-1),L=n("h3",{id:"exporting-to-code-first-types",tabindex:"-1"},[a("Exporting to Code-First Types "),n("a",{class:"header-anchor",href:"#exporting-to-code-first-types","aria-hidden":"true"},"#")],-1),M=n("p",null,[a("Database-First is a great way to rapidly build a CRUD App of an existing database, when we need even greater flexibility beyond what's possible from dynamically modifying Types at runtime, whether a "),n("a",{href:"/autoquery-rdbms.html#custom-autoquery-implementations"},"custom AutoQuery implementation"),a(" is needed, you want to override built-in AutoGen conventions or prefer the conventional development model of using C# and take advantage of the static analysis benefits in C# IDEs.")],-1),z=n("p",null,[n("a",{href:"/autoquery-autogen#export-code-first-dtos"},"Exporting to code-first types"),a(" retains attributes dynamically added at runtime, so all the conventions and customizations used to customize our Database-First Locode App gets codified when exporting into Code-First models with:")],-1),E=n("div",{class:"sh-copy cp flex cursor-pointer mb-3",onclick:"copy(this)"},[n("div",{class:"flex-grow bg-gray-800"},[n("div",{class:"pl-4 py-1 pb-1.5 align-middle whitespace-pre text-base text-gray-100"},[n("p",null,[n("code",null,"x csharp https://localhost:5001 -path /crud/all/csharp")])])]),n("div",{class:"flex"},[n("div",{class:"bg-green-600 text-white p-1.5 pb-0"},[n("svg",{class:"copied w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),n("svg",{class:"nocopy w-6 h-6",title:"copy",fill:"none",stroke:"white",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})])])])],-1),B=s('<h2 id="code-first" tabindex="-1">Code-First <a class="header-anchor" href="#code-first" aria-hidden="true">#</a></h2><p>An example where we&#39;ve taken this approach is with the <a href="https://www.sqlitetutorial.net/sqlite-sample-database/" target="_blank" rel="noopener noreferrer">SQLite&#39;s Chinook sample database</a> which initially started out as a Database-First Locode App, before exporting into Code-First types, disabling AutoGen then using refactoring tools in C# IDEs to organize the code-gen types into logical files:</p><ul><li><strong>Media APIs</strong> in <a href="https://github.com/NetCoreApps/Chinook/blob/main/Chinook.ServiceModel/Media.cs" target="_blank" rel="noopener noreferrer">Media.cs</a></li><li><strong>Chinook Store APIs</strong> in <a href="https://github.com/NetCoreApps/Chinook/blob/main/Chinook.ServiceModel/Store.cs" target="_blank" rel="noopener noreferrer">Store.cs</a></li><li><strong>Data Models</strong> in <a href="https://github.com/NetCoreApps/Chinook/blob/main/Chinook.ServiceModel/Types/Models.cs" target="_blank" rel="noopener noreferrer">Types/Models.cs</a></li></ul><p>Where it was developed going forward as a code-first project using <a href="/locode/declarative">Declarative Attributes</a> to create its customized UI:</p>',4),N=n("div",{class:"py-8 relative overflow-hidden"},[n("div",{class:"mx-auto max-w-md px-4 text-center sm:px-6 sm:max-w-3xl lg:px-8 lg:max-w-7xl"},[n("p",{class:"mt-2 text-3xl font-extrabold text-gray-900 tracking-tight sm:text-4xl"},"Code-first Example Locode App")]),n("div",{class:"relative mt-8"},[n("iframe",{class:"video-hd",width:"560",height:"315",src:"https://www.youtube.com/embed/mFyMgg7c3vg",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),V=s('<p>The end result after applying the UI Customizations is the customized Chinook Locode App:</p><div class="bg-white pb-4"><div class="pt-8 overflow-hidden sm:pt-12 lg:relative lg:py-48"><div class="mx-auto max-w-md px-4 sm:max-w-3xl sm:px-6 lg:px-8 lg:max-w-7xl lg:grid lg:grid-cols-2 lg:gap-24"><div><div><img class="h-11 w-auto" src="'+p+'" alt="Chinook Logo"></div><div class="mt-20"><div><a href="https://chinook.locode.dev/locode" class="inline-flex space-x-4"><span class="rounded bg-rose-50 px-2.5 py-1 text-xs font-semibold text-rose-500 tracking-wide uppercase"> What&#39;s new </span><span class="inline-flex items-center text-sm font-medium text-rose-500 space-x-1"><span>Open Chinook in Locode</span><svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></span></a></div><div class="mt-6 sm:max-w-xl"><h1 class="text-4xl font-extrabold text-gray-900 tracking-tight sm:text-5xl"> Chinook Locode </h1><p class="mt-6 text-xl text-gray-500"> Chinook is a customized <a class="text-rose-500" href="/locode/code-first">Code-First</a> App using <a class="text-rose-500" href="/autoquery-autogen">AutoGen</a> to <a class="text-rose-500" href="/autoquery-autogen#export-code-first-dtos">export</a> Chinook&#39;s RDBMS Tables into <a class="text-rose-500" href="https://github.com/NetCoreApps/Chinook/blob/main/Chinook.ServiceModel/Types/Models.cs">Models.cs</a> generating code-first <a class="text-rose-500" href="/autoquery-rdbms">AutoQuery</a> APIs &amp; Data Models that&#39;s further annotated to create a customized Locode App </p></div><div class="mt-6"><p class="text-2xl font-medium text-gray-900 mb-3"> Explore Features </p><div class="flex items-center mb-2"><svg class="w-6 h-6 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g fill="none"><path d="M4 5c0-1.007.875-1.755 1.904-2.223C6.978 2.289 8.427 2 10 2s3.022.289 4.096.777C15.125 3.245 16 3.993 16 5v4.758a4.485 4.485 0 0 0-1-.502V6.698a4.92 4.92 0 0 1-.904.525C13.022 7.711 11.573 8 10 8s-3.022-.289-4.096-.777A4.92 4.92 0 0 1 5 6.698V15c0 .374.356.875 1.318 1.313c.916.416 2.218.687 3.682.687c.22 0 .437-.006.65-.018c.447.367.966.65 1.534.822c-.68.127-1.417.196-2.184.196c-1.573 0-3.022-.289-4.096-.777C4.875 16.755 4 16.007 4 15V5zm1 0c0 .374.356.875 1.318 1.313C7.234 6.729 8.536 7 10 7s2.766-.27 3.682-.687C14.644 5.875 15 5.373 15 5c0-.374-.356-.875-1.318-1.313C12.766 3.271 11.464 3 10 3s-2.766.27-3.682.687C5.356 4.125 5 4.627 5 5zm8.5 12c.786 0 1.512-.26 2.096-.697l2.55 2.55a.5.5 0 1 0 .708-.707l-2.55-2.55A3.5 3.5 0 1 0 13.5 17zm0-1a2.5 2.5 0 1 1 0-5a2.5 2.5 0 0 1 0 5z" fill="currentColor"></path></g></svg><a class="text-xl text-rose-500" href="https://chinook.locode.dev/locode">Manage database with Locode</a></div><div class="flex items-center mb-2"><svg class="w-6 h-6 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 32"><g fill="currentColor"><path d="M27.464 2.314a.501.501 0 0 0-.698-.257L14.86 8.339a.499.499 0 0 0-.233.621l.245.641l-6.873 3.769a.5.5 0 0 0-.222.63l.228.549l-7.299 3.488a.5.5 0 0 0-.246.643l1.498 3.61a.5.5 0 0 0 .629.28l7.625-2.701l.228.549a.5.5 0 0 0 .601.289l7.276-2.097l.218.569a.497.497 0 0 0 .612.299l13-4a.498.498 0 0 0 .317-.663l-5-12.501zM2.7 21.469l-1.134-2.734l6.823-3.261l1.439 3.47L2.7 21.469zm8.491-1.846l-.238-.574l-1.843-4.445l-.238-.573l6.336-3.475l2.374 6.134l.375.981l-6.766 1.952zm8.109-1.238l-.203-.531c-.003-.011-.001-.024-.006-.035l-.618-1.597l-2.754-7.206l11.023-5.815l4.592 11.48L19.3 18.385z"></path><path d="M28.964.314a.5.5 0 0 0-.929.371l6 15a.502.502 0 0 0 .651.279a.501.501 0 0 0 .279-.65l-6.001-15z"></path><path d="M18 21h-3c-1.14 0-2 .86-2 2v1.315l-5.879 6.859a.5.5 0 1 0 .758.651L13.73 25H16v6.5a.5.5 0 0 0 1 0V25h2.27l5.85 6.825a.497.497 0 0 0 .705.054a.5.5 0 0 0 .054-.705L20 24.315v-1.24C20 21.912 19.122 21 18 21zm1 3h-5v-1c0-.589.411-1 1-1h3c.57 0 1 .462 1 1.075V24z"></path></g></svg><a class="text-xl text-rose-500" href="https://chinook.locode.dev/ui">Explore APIs in API Explorer</a></div><div class="mt-6 flex"><div class="rounded-md shadow lg:mt-0 lg:ml-10 lg:flex-shrink-0"><a href="https://github.com/NetCoreApps/Chinook/archive/refs/heads/main.zip" class="flex hover:no-underline items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-gray-900 bg-white hover:bg-gray-50"> Download Chinook.zip </a></div></div></div></div></div></div><div class="sm:mx-auto sm:max-w-3xl sm:px-6"><div class="py-12 sm:relative sm:mt-12 sm:py-16 lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2"><div class="hidden sm:block"><div class="absolute inset-y-0 left-1/2 w-screen bg-gray-50 rounded-l-3xl lg:left-80 lg:right-0 lg:w-full"></div><svg class="absolute top-8 right-1/2 -mr-3 lg:m-0 lg:left-0" width="404" height="392" fill="none" viewBox="0 0 404 392"><defs><pattern id="837c3e70-6c3a-44e6-8854-cc48c737b659" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><rect x="0" y="0" width="4" height="4" class="text-gray-200" fill="currentColor"></rect></pattern></defs><rect width="404" height="392" fill="url(#837c3e70-6c3a-44e6-8854-cc48c737b659)"></rect></svg></div><div class="relative pl-4 -mr-40 sm:mx-auto sm:max-w-3xl sm:px-0 lg:max-w-none lg:h-full lg:pl-12"><a href="https://chinook.locode.dev/locode"><img class="w-full rounded-md shadow-xl ring-1 ring-black ring-opacity-5 lg:h-full lg:w-auto lg:max-w-none" src="'+o+'" alt=""></a></div></div></div></div></div><h3 id="declarative-dev-model" tabindex="-1">Declarative Dev Model <a class="header-anchor" href="#declarative-dev-model" aria-hidden="true">#</a></h3><p><a href="/locode/code-first">Code-First</a> is the natural development model of <a href="/autoquery-rdbms">AutoQuery Services</a> which facilitates the majority of a System and its UI can be developed from simple, declarative C# POCOs to define the underlying RDBMS Schema Data Models and the precise typed API DTO Contracts of their surrounding AutoQuery &amp; CRUD APIs. The Data and Service models can be further enhanced by ServiceStack&#39;s vast <a href="/locode/declarative">declarative attributes</a> where a significant amount of behavior, functionality and customization can be defined, ranging from:</p><ul><li>Customizing how <a href="/locode/declarative.html#table-data-model-attributes">Data Models map to RDBMS tables</a> and enlist RDBMS features</li><li><a href="/locode/declarative.html#custom-serialization">Customize Serialization &amp; API behavior</a></li><li><a href="/locode/declarative.html#autoquery-attributes">Define AutoQuery &amp; CRUD API behavior</a></li><li>Define <a href="/locode/declarative.html#type-validation-attributes">Validation Rules</a> and <a href="/locode/declarative.html#authentication-restrictions">Authorization restrictions</a></li><li><a href="/locode/declarative.html#annotate-apis">Annotate &amp; Document APIs</a></li><li><a href="/locode/declarative.html#result-formatters">Customize UI Behavior &amp; Appearance</a></li></ul><h2 id="custom-forms" tabindex="-1">Custom Forms <a class="header-anchor" href="#custom-forms" aria-hidden="true">#</a></h2><p>The <strong>Chinook</strong> Locode App also showcases of how to implement an enhanced UX beyond Locode&#39;s default UI to create <a href="/locode/custom-forms">Custom Forms</a> for its <code>Albums</code> table by creating custom HTML &amp; JS Components which is loaded directly in Locode.</p><p>To override Locode&#39;s built-in Form UI you can add custom <a href="https://github.com/vuejs/petite-vue" target="_blank" rel="noopener noreferrer">PetiteVue</a> HTML components to your Host Project <strong>/wwwroot</strong> folder at <code>/modules/locode/custom.html</code> using the naming conventions below:</p><table><thead><tr><th>Component Name</th><th>Description</th></tr></thead><tbody><tr><td><code>New{Table}</code></td><td>Custom Create Form UI</td></tr><tr><td><code>Edit{Table}</code></td><td>Custom Update Form UI</td></tr></tbody></table><p>Chinook does this to create its custom Form UI for creating and editing Albums by registering <code>NewAlbums</code> and <code>EditAlbums</code> components in its <a href="https://github.com/NetCoreApps/Chinook/blob/main/Chinook/wwwroot/modules/locode/custom.html" target="_blank" rel="noopener noreferrer">/modules/locode/custom.html</a> to render its <a href="https://chinook.locode.dev/locode/QueryAlbums?new=true" target="_blank" rel="noopener noreferrer">custom Create Album form</a> to update its <code>Albums</code> table:</p><p><a href="https://chinook.locode.dev/locode/QueryAlbums?new=true" target="_blank" rel="noopener noreferrer"><img src="'+u+'" alt=""></a></p><p>The custom forms also implements error handling where submitting an empty form will trigger the contextual validation errors to appear:</p><p><a href="https://chinook.locode.dev/locode/QueryAlbums?new=true" target="_blank" rel="noopener noreferrer"><img src="'+r+`" alt=""></a></p><p>As enforced by the <a href="/declarative-validation">Declarative Validation</a> rules on the <code>CreateAlbums</code> AutoQuery CRUD DTO Locode invokes when creating Albums:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/albums&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span> <span class="token class-name">Tag</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Tags<span class="token punctuation">.</span>Media<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CreateAlbums</span>
    <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IReturn<span class="token punctuation">&lt;</span>IdResponse<span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">IPost</span><span class="token punctuation">,</span> <span class="token class-name">ICreateDb<span class="token punctuation">&lt;</span>Albums<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateNotEmpty</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Title <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateGreaterThan</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">long</span></span> ArtistId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>For more information &amp; a detailed walkthrough see the <a href="/locode/custom-forms">Custom Forms Docs</a>.</p><h2 id="custom-fields-and-inputs" tabindex="-1">Custom Fields and Inputs <a class="header-anchor" href="#custom-fields-and-inputs" aria-hidden="true">#</a></h2><p>These attributes can be used to customize how fields and HTML Input controls in the Auto Form UIs in <a href="https://www.locode.dev" target="_blank" rel="noopener noreferrer">Locode</a> and <a href="/api-explorer">API Explorer</a></p><table><thead><tr><th>Attribute</th><th>Description</th></tr></thead><tbody><tr><td><code>[Input]</code></td><td>Customize the HTML Input control for a Property in Auto Form UIs</td></tr><tr><td><code>[Field]</code></td><td>Customize the HTML Input control and Form Field CSS for a Type&#39;s Property</td></tr><tr><td><code>[FieldCss]</code></td><td>Customize a Property Form Field CSS</td></tr><tr><td><code>[ExplorerCss]</code></td><td>Customize the Form and Field CSS in API Explorer</td></tr><tr><td><code>[LocodeCss]</code></td><td>Customize the Form and Field CSS in Locode</td></tr></tbody></table><p>We&#39;ll go through some examples to explore how they can be used to customize Locode and API Explorer UIs.</p><p>From the <code>CreateJob</code> Request DTO below we can see that Locode uses the most appropriate HTML Input for the specific data type, e.g. <code>&lt;input type=number&gt;</code> for <strong>numbers</strong>, <code>&lt;input type=date&gt;</code> for <strong>Date</strong> Types and <code>&lt;select&gt;</code> dropdown for finite values like <strong>Enums</strong>.</p><p>We can also further customize each field with the <code>[Input]</code> attribute where we can change to use a <code>&lt;textarea&gt;</code> for large text fields which we can pair with the <code>[FieldCss]</code> attribute to change the width of its encapsulating field using <a href="https://tailwindcss.com/docs/grid-column#spanning-columns" target="_blank" rel="noopener noreferrer">TailwindCss Grid classes</a> to change its grid width and center its label:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CreateJob</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ICreateDb<span class="token punctuation">&lt;</span>Job<span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">IReturn<span class="token punctuation">&lt;</span>Job<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Title <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateGreaterThan</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> SalaryRangeLower <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateGreaterThan</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> SalaryRangeUpper <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Input</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Type <span class="token operator">=</span> <span class="token string">&quot;textarea&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span> <span class="token class-name">FieldCss</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Field <span class="token operator">=</span> <span class="token string">&quot;col-span-12 text-center&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Description <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">EmploymentType</span> EmploymentType <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Company <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Location <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime</span> Closing <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Which renders our preferred responsive form layout:</p><p><a href="https://talent.locode.dev/locode/QueryJob?new=true" target="_blank" rel="noopener noreferrer"><img src="`+k+`" alt=""></a></p><h3 id="field" tabindex="-1">Field <a class="header-anchor" href="#field" aria-hidden="true">#</a></h3><p>The <code>[Field]</code> attribute is an alternative way to define both <code>[Input]</code> and <code>[FieldCss]</code> attributes on <strong>Types</strong> which is especially useful when you don&#39;t have the property on the Request DTO you want to define because it&#39;s in a base class, in which case you can use <code>[Field]</code> on the Request DTO:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Field</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>Description<span class="token punctuation">)</span><span class="token punctuation">,</span> Type <span class="token operator">=</span> <span class="token string">&quot;textarea&quot;</span><span class="token punctuation">,</span> FieldCss<span class="token operator">=</span><span class="token string">&quot;col-span-12 text-center&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CreateJob</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">JobBase</span><span class="token punctuation">,</span> <span class="token class-name">ICreateDb<span class="token punctuation">&lt;</span>Job<span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">IReturn<span class="token punctuation">&lt;</span>Job<span class="token punctuation">&gt;</span></span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="custom-form-css" tabindex="-1">Custom Form CSS <a class="header-anchor" href="#custom-form-css" aria-hidden="true">#</a></h3><p>The high-level <code>[LocodeCss]</code> attribute can be used to change the entire Form layout instead where you&#39;ll be able to change the default Form, FieldSet and Field CSS classes, e.g:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">LocodeCss</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Field<span class="token operator">=</span><span class="token string">&quot;col-span-12 sm:col-span-6&quot;</span><span class="token punctuation">,</span> Fieldset <span class="token operator">=</span> <span class="token string">&quot;grid grid-cols-6 gap-8&quot;</span><span class="token punctuation">,</span> 
           Form <span class="token operator">=</span> <span class="token string">&quot;border border-indigo-500 overflow-hidden max-w-screen-lg&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Field</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>BookingEndDate<span class="token punctuation">)</span><span class="token punctuation">,</span> LabelCss <span class="token operator">=</span> <span class="token string">&quot;text-gray-800&quot;</span><span class="token punctuation">,</span> InputCss <span class="token operator">=</span> <span class="token string">&quot;bg-gray-100&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Field</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>Notes<span class="token punctuation">)</span><span class="token punctuation">,</span> Type <span class="token operator">=</span> <span class="token string">&quot;textarea&quot;</span><span class="token punctuation">,</span> FieldCss<span class="token operator">=</span><span class="token string">&quot;col-span-12 text-center&quot;</span><span class="token punctuation">,</span> InputCss <span class="token operator">=</span> <span class="token string">&quot;bg-gray-100&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UpdateBooking</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IPatchDb<span class="token punctuation">&lt;</span>Booking<span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">IReturn<span class="token punctuation">&lt;</span>IdResponse<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateNotNull</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">RoomType<span class="token punctuation">?</span></span> RoomType <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateGreaterThan</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> RoomNumber <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateGreaterThan</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span> <span class="token class-name">AllowReset</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">decimal</span><span class="token punctuation">?</span></span> Cost <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime<span class="token punctuation">?</span></span> BookingStartDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime<span class="token punctuation">?</span></span> BookingEndDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> Notes <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span><span class="token punctuation">?</span></span> Cancelled <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Renders our custom Form layout:</p><p><img src="`+d+`" alt=""></p><p>These changes only applies to the Form when viewed in Locode, to change the Form in API Explorer use <code>[ExplorerCss]</code> instead:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ExplorerCss</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Field<span class="token operator">=</span><span class="token string">&quot;col-span-12 sm:col-span-6&quot;</span><span class="token punctuation">,</span> Fieldset <span class="token operator">=</span> <span class="token string">&quot;grid grid-cols-6 gap-8&quot;</span><span class="token punctuation">,</span> 
             Form <span class="token operator">=</span> <span class="token string">&quot;border border-indigo-500 overflow-hidden max-w-screen-lg&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
</code></pre></div><h2 id="custom-html-components" tabindex="-1">Custom HTML Components <a class="header-anchor" href="#custom-html-components" aria-hidden="true">#</a></h2><p>Just like the built-in <a href="/api-explorer">API Explorer</a> and <a href="/admin-ui">Admin UI</a>, each of their components can be overridden by locally adding a file at the same path. The Chinook Demo shows an example of overriding its existing <a href="https://github.com/NetCoreApps/Chinook/blob/main/Chinook/wwwroot/modules/locode/components/Welcome.html" target="_blank" rel="noopener noreferrer">/modules/locode/components/Welcome.html</a> component in order to render its <a href="https://chinook.locode.dev/locode" target="_blank" rel="noopener noreferrer">custom Home page</a>.</p><p>In addition to using built-in Locode functionality, it also makes use of the <a href="/typescript-add-servicestack-reference">TypeScript DTOs</a> to call Chinooks typed APIs, by running:</p><div class="language-bash"><pre><code>$ <span class="token function">npm</span> run dtos
</code></pre></div><p>This provides the type definitions for all its APIs DTOs which makes use of the <a href="/javascript-add-servicestack-reference">JavaScript Add ServiceStack Reference</a> feature to preload the client DTO implementations, ready for usage in Locode Apps.</p><p>This results in providing an end-to-end typed dev UX for creating custom components to call App&#39;s APIs as done in:</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> App<span class="token punctuation">,</span> client <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@servicestack/ui/locode&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> QueryInvoices <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;dtos&quot;</span>

App<span class="token punctuation">.</span><span class="token function">components</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">Welcome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">$template</span><span class="token operator">:</span> <span class="token string">&#39;#welcome-template&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">lastOrders</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                client<span class="token punctuation">.</span><span class="token function">api</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">QueryInvoices</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">orderBy</span><span class="token operator">:</span><span class="token string">&#39;-InvoiceId&#39;</span><span class="token punctuation">,</span> 
                    <span class="token literal-property property">take</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span> 
                    <span class="token literal-property property">fields</span><span class="token operator">:</span><span class="token string">&#39;InvoiceId,CustomerId,InvoiceDate,Total,BillingCountry,BillingCity&#39;</span> 
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">jsconfig</span><span class="token operator">:</span> <span class="token string">&#39;edv&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">api</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>api<span class="token punctuation">.</span>succeeded<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">this</span><span class="token punctuation">.</span>lastOrders <span class="token operator">=</span> api<span class="token punctuation">.</span>response<span class="token punctuation">.</span>results
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>welcome-template<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pl-4<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">@vue:</span>mounted</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mounted<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text-3xl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            Welcome to Chinook Locode
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastOrders.length<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mt-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text-xl mb-4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Here are your last {{lastOrders.length}} orders:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>max-w-screen-md<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>PreviewObject({ val:() =&gt; lastOrders })<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Used to render its <a href="https://chinook.locode.dev/locode" target="_blank" rel="noopener noreferrer">custom Home page</a>:</p><p><a href="https://chinook.locode.dev/locode" target="_blank" rel="noopener noreferrer"><img src="`+m+'" alt=""></a></p><h2 id="servicestack-ui-typescript-definitions" tabindex="-1">@servicestack/ui TypeScript Definitions <a class="header-anchor" href="#servicestack-ui-typescript-definitions" aria-hidden="true">#</a></h2><p>Locode App development are also able to benefit from static analysis and intelli-sense by <a href="/locode/custom">installing @servicestack/ui</a> and importing static types using standard ES6 import syntax which it can reference using standard <a href="https://jsdoc.app" target="_blank" rel="noopener noreferrer">JSDoc annotations</a> or <a href="https://www.typescriptlang.org/docs/handbook/jsdoc-supported-types.html" target="_blank" rel="noopener noreferrer">TypeScript&#39;s JSDoc support</a> as an alternative to maintaining a separate <code>custom.ts</code> file. By using JSDoc comments directly in <code>custom.js</code> we can avoid the additional build-step and get instant feedback on each save when we run our App with:</p>',46),J=n("div",{class:"sh-copy cp flex cursor-pointer mb-3",onclick:"copy(this)"},[n("div",{class:"flex-grow bg-gray-800"},[n("div",{class:"pl-4 py-1 pb-1.5 align-middle whitespace-pre text-base text-gray-100"},[n("p",null,"dotnet watch")])]),n("div",{class:"flex"},[n("div",{class:"bg-green-600 text-white p-1.5 pb-0"},[n("svg",{class:"copied w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),n("svg",{class:"nocopy w-6 h-6",title:"copy",fill:"none",stroke:"white",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})])])])],-1),O=n("p",null,"To facilitate custom HTML/JS UI development we've packaged type definitions for all Locode's functionality by installing the npm package:",-1),H=n("div",{class:"sh-copy cp flex cursor-pointer mb-3",onclick:"copy(this)"},[n("div",{class:"flex-grow bg-gray-800"},[n("div",{class:"pl-4 py-1 pb-1.5 align-middle whitespace-pre text-base text-gray-100"},[n("p",null,"npm install @servicestack/ui")])]),n("div",{class:"flex"},[n("div",{class:"bg-green-600 text-white p-1.5 pb-0"},[n("svg",{class:"copied w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),n("svg",{class:"nocopy w-6 h-6",title:"copy",fill:"none",stroke:"white",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})])])])],-1),j=s('<p>To enable its productive typed development UX whose changes load instantly without App restarts:</p><div class="flex justify-center py-8"><a href="https://youtu.be/lUDlTMq9DHU?t=521"><img src="'+g+'"></a></div><h2 id="api-reference" tabindex="-1">API Reference <a class="header-anchor" href="#api-reference" aria-hidden="true">#</a></h2><p>Type definitions for all functionality available in ServiceStack UI&#39;s are published at <strong><a href="https://api.locode.dev" target="_blank" rel="noopener noreferrer">api.locode.dev</a></strong>:</p><p><a href="https://api.locode.dev/modules/shared.html" target="_blank" rel="noopener noreferrer"><img src="'+h+'" alt=""></a></p><h3 id="library-reference" tabindex="-1">Library Reference <a class="header-anchor" href="#library-reference" aria-hidden="true">#</a></h3><table><thead><tr><th>Namespace</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://api.locode.dev/modules/shared.html" target="_blank" rel="noopener noreferrer">shared</a></td><td>Type Definitions for all Types and shared functionality used in all UI&#39;s</td></tr><tr><td><a href="https://api.locode.dev/modules/client.html" target="_blank" rel="noopener noreferrer">client</a></td><td>Type Definitions for the <a href="https://github.com/ServiceStack/servicestack-client" target="_blank" rel="noopener noreferrer">@servicestack/client</a> library</td></tr></tbody></table><h3 id="uis" tabindex="-1">UIs <a class="header-anchor" href="#uis" aria-hidden="true">#</a></h3><table><thead><tr><th>UI</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://api.locode.dev/modules/locode.html" target="_blank" rel="noopener noreferrer">locode</a></td><td>Global App and Type instances available in <a href="https://www.locode.dev" target="_blank" rel="noopener noreferrer">Locode Apps</a></td></tr><tr><td><a href="https://api.locode.dev/modules/explorer.html" target="_blank" rel="noopener noreferrer">explorer</a></td><td>Global App and Type instances available in <a href="/api-explorer">API Explorer</a></td></tr><tr><td><a href="https://api.locode.dev/modules/admin.html" target="_blank" rel="noopener noreferrer">admin</a></td><td>Global App and Type instances available in ServiceStack&#39;s <a href="/admin-ui">Admin UI</a></td></tr></tbody></table><h2 id="format-functions" tabindex="-1">Format Functions <a class="header-anchor" href="#format-functions" aria-hidden="true">#</a></h2><p>Chinook also makes usage of <a href="/locode/formatters">Format functions</a> to customize how its fields are displayed in its tabular result pages, e.g:</p><p><a href="https://talent.locode.dev/locode/QueryContacts" target="_blank" rel="noopener noreferrer"><img src="'+y+`" alt=""></a></p><p>Where columns are customized using a built-in formatting function referenced by the <code>[Format]</code> attributes:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Contact</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AuditBase</span></span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Format</span><span class="token attribute-arguments"><span class="token punctuation">(</span>FormatMethods<span class="token punctuation">.</span>IconRounded<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> ProfileUrl <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Format</span><span class="token attribute-arguments"><span class="token punctuation">(</span>FormatMethods<span class="token punctuation">.</span>Currency<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> SalaryExpectation <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token function">Format</span><span class="token punctuation">(</span>FormatMethods<span class="token punctuation">.</span>LinkEmail<span class="token punctuation">,</span> Options <span class="token operator">=</span> 
        <span class="token string">@&quot;{target:&#39;_self&#39;,subject:&#39;New Job Opportunity&#39;,
           body:&#39;We have an exciting new opportunity...&#39;, cls:&#39;text-green-600&#39;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Email <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
 
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Format</span><span class="token attribute-arguments"><span class="token punctuation">(</span>FormatMethods<span class="token punctuation">.</span>LinkPhone<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Phone <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token comment">//....</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Whilst the <code>[Intl*]</code> attributes provide a typed API to utilize JavaScript&#39;s rich <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl" target="_blank" rel="noopener noreferrer">Intl</a> object containing the namespace for the ECMAScript Internationalization API, which provides number formatting, and date &amp; time formatting, e.g:</p><p><a href="https://chinook.locode.dev/locode/QueryTracks" target="_blank" rel="noopener noreferrer"><img src="`+w+`" alt=""></a></p><p>Which was rendered using the <code>[Format]</code> ant <code>[Intl*]</code> attributes below:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Tracks</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Format</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Method <span class="token operator">=</span> <span class="token string">&quot;stylize&quot;</span><span class="token punctuation">,</span> Options <span class="token operator">=</span> <span class="token string">&quot;{cls:&#39;text-rose-500&#39;}&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">IntlDateTime</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Minute <span class="token operator">=</span> DatePart<span class="token punctuation">.</span>Digits2<span class="token punctuation">,</span> Second <span class="token operator">=</span> DatePart<span class="token punctuation">.</span>Digits2<span class="token punctuation">,</span> FractionalSecondDigits <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">long</span></span> Milliseconds <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Format</span><span class="token attribute-arguments"><span class="token punctuation">(</span>FormatMethods<span class="token punctuation">.</span>Bytes<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">long</span><span class="token punctuation">?</span></span> Bytes <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">IntlNumber</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Currency <span class="token operator">=</span> NumberCurrency<span class="token punctuation">.</span>USD<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">decimal</span></span> UnitPrice <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token comment">//....</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="custom-format-function" tabindex="-1">Custom Format Function <a class="header-anchor" href="#custom-format-function" aria-hidden="true">#</a></h3><p>The <code>Name</code> column shows an example of calling a custom <code>stylize</code> JavaScript function defined in <a href="https://github.com/NetCoreApps/Chinook/blob/main/Chinook/wwwroot/modules/locode/custom.js" target="_blank" rel="noopener noreferrer">/modules/locode/custom.js</a>:</p><div class="language-js"><pre><code><span class="token comment">/**: Extend locode App with custom JS **/</span>

<span class="token comment">/** Custom [Format] method to style text with custom class
 * @param {*} val
 * @param {{cls:string}} [options] */</span>
<span class="token keyword">function</span> <span class="token function">stylize</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> cls <span class="token operator">=</span> options <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>cls <span class="token operator">||</span> <span class="token string">&#39;text-green-600&#39;</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;span class=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>cls<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>val<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span&gt;</span><span class="token template-punctuation string">\`</span></span>
<span class="token punctuation">}</span>
</code></pre></div><p>Which makes use of <a href="https://jsdoc.app" target="_blank" rel="noopener noreferrer">JSDoc</a> and <a href="https://www.typescriptlang.org/docs/handbook/jsdoc-supported-types.html" target="_blank" rel="noopener noreferrer">TypeScript&#39;s JSDoc</a> support to <a href="/locode/custom">enable rich static analysis</a>.</p><h2 id="hybrid-locode-apps" tabindex="-1">Hybrid Locode Apps <a class="header-anchor" href="#hybrid-locode-apps" aria-hidden="true">#</a></h2><p>Locode&#39;s declarative dev model lets you focus on your new App&#39;s business requirements where its data model, API capabilities, input validation &amp; multi-user Auth restrictions can be defined simply using annotated C# POCOs. This provides immense value at the start of the development cycle where functional prototypes can be quickly iterated to gather business requirements</p><p>Once requirements have solidified, its typed AutoQuery APIs can easily be reused to develop custom UIs to optimize important workflows.</p><p><a href="https://github.com/NetCoreApps/TalentBlazor" target="_blank" rel="noopener noreferrer">Talent Blazor</a> is a new App showcasing an example of this where its entire back-office functionality can be managed through Locode whilst an optimized Blazor WASM App is created to optimize its unique workflow requirements which also benefits from the superior productive dev model of its Typed APIs</p><div class="bg-white pb-8 pb-12"><div class="pt-8 overflow-hidden sm:pt-12 lg:relative lg:py-48"><div class="mx-auto max-w-md px-4 sm:max-w-3xl sm:px-6 lg:px-8 lg:max-w-7xl lg:grid lg:grid-cols-2 lg:gap-24"><div><div><img class="h-11 w-auto" src="`+c+'" alt="Northwind Logo"></div><div class="mt-20"><div><a href="https://talent.locode.dev/locode" class="inline-flex space-x-4"><span class="rounded bg-purple-50 px-2.5 py-1 text-xs font-semibold text-purple-600 tracking-wide uppercase"> What&#39;s new </span><span class="inline-flex items-center text-sm font-medium text-purple-600 space-x-1"><span>Open Talent Blazor in Locode</span><svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></span></a></div><div class="mt-6 sm:max-w-xl"><h1 class="text-4xl font-extrabold text-gray-900 tracking-tight sm:text-5xl"> Talent Blazor Locode </h1><p class="mt-6 text-xl text-gray-500"> Talent Blazor is a Blazor WASM App built around a HR&#39;s unique workflow for processing Job Applications from initial Application, through to Phone Screening and Interviews by multiple employees, capturing relevant feedback at each application event, with successful Applicants awarded the Job <br><br> It&#39;s co-developed &amp; deployed with a customized Locode App that manages all other CRUD Database Access </p></div><div class="mt-6"><p class="text-2xl font-medium text-gray-900 mb-3"> Explore Features </p><div class="flex items-center mb-2"><svg class="w-6 h-6 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g fill="none"><path d="M4 5c0-1.007.875-1.755 1.904-2.223C6.978 2.289 8.427 2 10 2s3.022.289 4.096.777C15.125 3.245 16 3.993 16 5v4.758a4.485 4.485 0 0 0-1-.502V6.698a4.92 4.92 0 0 1-.904.525C13.022 7.711 11.573 8 10 8s-3.022-.289-4.096-.777A4.92 4.92 0 0 1 5 6.698V15c0 .374.356.875 1.318 1.313c.916.416 2.218.687 3.682.687c.22 0 .437-.006.65-.018c.447.367.966.65 1.534.822c-.68.127-1.417.196-2.184.196c-1.573 0-3.022-.289-4.096-.777C4.875 16.755 4 16.007 4 15V5zm1 0c0 .374.356.875 1.318 1.313C7.234 6.729 8.536 7 10 7s2.766-.27 3.682-.687C14.644 5.875 15 5.373 15 5c0-.374-.356-.875-1.318-1.313C12.766 3.271 11.464 3 10 3s-2.766.27-3.682.687C5.356 4.125 5 4.627 5 5zm8.5 12c.786 0 1.512-.26 2.096-.697l2.55 2.55a.5.5 0 1 0 .708-.707l-2.55-2.55A3.5 3.5 0 1 0 13.5 17zm0-1a2.5 2.5 0 1 1 0-5a2.5 2.5 0 0 1 0 5z" fill="currentColor"></path></g></svg><a class="text-xl text-purple-600" href="https://talent.locode.dev/locode">Manage database with Locode</a></div><div class="flex items-center mb-2"><svg class="w-6 h-6 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 32"><g fill="currentColor"><path d="M27.464 2.314a.501.501 0 0 0-.698-.257L14.86 8.339a.499.499 0 0 0-.233.621l.245.641l-6.873 3.769a.5.5 0 0 0-.222.63l.228.549l-7.299 3.488a.5.5 0 0 0-.246.643l1.498 3.61a.5.5 0 0 0 .629.28l7.625-2.701l.228.549a.5.5 0 0 0 .601.289l7.276-2.097l.218.569a.497.497 0 0 0 .612.299l13-4a.498.498 0 0 0 .317-.663l-5-12.501zM2.7 21.469l-1.134-2.734l6.823-3.261l1.439 3.47L2.7 21.469zm8.491-1.846l-.238-.574l-1.843-4.445l-.238-.573l6.336-3.475l2.374 6.134l.375.981l-6.766 1.952zm8.109-1.238l-.203-.531c-.003-.011-.001-.024-.006-.035l-.618-1.597l-2.754-7.206l11.023-5.815l4.592 11.48L19.3 18.385z"></path><path d="M28.964.314a.5.5 0 0 0-.929.371l6 15a.502.502 0 0 0 .651.279a.501.501 0 0 0 .279-.65l-6.001-15z"></path><path d="M18 21h-3c-1.14 0-2 .86-2 2v1.315l-5.879 6.859a.5.5 0 1 0 .758.651L13.73 25H16v6.5a.5.5 0 0 0 1 0V25h2.27l5.85 6.825a.497.497 0 0 0 .705.054a.5.5 0 0 0 .054-.705L20 24.315v-1.24C20 21.912 19.122 21 18 21zm1 3h-5v-1c0-.589.411-1 1-1h3c.57 0 1 .462 1 1.075V24z"></path></g></svg><a class="text-xl text-purple-600" href="https://talent.locode.dev/ui">Explore APIs in API Explorer</a></div><div class="flex items-center text-xl mb-2"><svg class="w-6 h-6 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M16 22.027v-2.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7a5.44 5.44 0 0 0-1.5-3.75a5.07 5.07 0 0 0-.09-3.77s-1.18-.35-3.91 1.48a13.38 13.38 0 0 0-7 0c-2.73-1.83-3.91-1.48-3.91-1.48A5.07 5.07 0 0 0 5 5.797a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7a3.37 3.37 0 0 0-.94 2.58v2.87"></path><path d="M9 20.027c-3 .973-5.5 0-7-3"></path></g></svg> Browse <a class="px-1 text-purple-600" href="https://github.com/NetCoreApps/TalentBlazor/tree/main/TalentBlazor.Client">Client</a> and <a class="px-1 text-purple-600" href="https://github.com/NetCoreApps/TalentBlazor/blob/main/TalentBlazor.ServiceInterface/TalentServices.cs">Server</a> source code </div><div class="mt-6 flex"><div class="rounded-md shadow lg:mt-0 lg:ml-10 lg:flex-shrink-0"><a href="https://github.com/NetCoreApps/TalentBlazor/archive/refs/heads/main.zip" class="flex hover:no-underline items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-gray-900 bg-white hover:bg-gray-50"> Download TalentBlazor.zip </a></div></div></div></div></div></div><div class="sm:mx-auto sm:max-w-3xl sm:px-6"><div class="py-12 sm:relative sm:mt-12 sm:py-16 lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2"><div class="hidden sm:block"><div class="absolute inset-y-0 left-1/2 w-screen bg-gray-50 rounded-l-3xl lg:left-80 lg:right-0 lg:w-full"></div><svg class="absolute top-8 right-1/2 -mr-3 lg:m-0 lg:left-0" width="404" height="392" fill="none" viewBox="0 0 404 392"><defs><pattern id="837c3e70-6c3a-44e6-8854-cc48c737b659" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><rect x="0" y="0" width="4" height="4" class="text-gray-200" fill="currentColor"></rect></pattern></defs><rect width="404" height="392" fill="url(#837c3e70-6c3a-44e6-8854-cc48c737b659)"></rect></svg></div><div class="relative pl-4 -mr-40 sm:mx-auto sm:max-w-3xl sm:px-0 lg:max-w-none lg:h-full lg:pl-12"><a href="https://talent.locode.dev"><img class="w-full rounded-md shadow-xl ring-1 ring-black ring-opacity-5 lg:h-full lg:w-auto lg:max-w-none" src="'+l+`" alt=""></a></div></div></div></div></div><h3 id="blazor-dev-model-preview" tabindex="-1">Blazor Dev Model Preview <a class="header-anchor" href="#blazor-dev-model-preview" aria-hidden="true">#</a></h3><p>In addition to enabling a Rapid Development Platform the resulting typed AutoQuery APIs also offer a superior end-to-end typed development model for all ServiceStack&#39;s <a href="https://servicestack.net/service-reference" target="_blank" rel="noopener noreferrer">9 supported popular programming languages</a> used in developing Web, Mobile &amp; Desktop Apps.</p><p>The benefits are further exemplified in <a href="/templates-blazor">C# Client Apps like Blazor WASM</a> as ServiceStack&#39;s <a href="/api-first-development">API First Development Model</a> and <a href="/physical-project-structure">decoupled project structure</a> is able to achieve complete reuse of your APIs DTOs on the client as-is, to enable its end-to-end Typed API free from any additional tooling or code-gen complexity.</p><p>Talent Blazor&#39;s <a href="https://github.com/NetCoreApps/TalentBlazor/blob/main/TalentBlazor.Client/Pages/Talent/ContactApplicationView.razor" target="_blank" rel="noopener noreferrer">ContactApplicationView.razor</a> page contains a good preview of the typical effort required to call AutoQuery APIs using the generic service clients &quot;Exception-less&quot; <a href="/templates-blazor#api-and-apiasync-methods">Api and ApiAsync methods</a> to perform AutoQuery search requests to check if a Job Offer exists for the current Job Application:</p><div class="language-csharp"><pre><code><span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">RefreshJobOffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> api <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">ApiAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">QueryJobOffer</span> <span class="token punctuation">{</span>
        JobApplicationId <span class="token operator">=</span> JobAppId
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>api<span class="token punctuation">.</span>Succeeded<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> hasOffer <span class="token operator">=</span> api<span class="token punctuation">.</span>Response<span class="token operator">!</span><span class="token punctuation">.</span>Results<span class="token punctuation">.</span>Count <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
        jobOffer <span class="token operator">=</span> hasOffer <span class="token punctuation">?</span> api<span class="token punctuation">.</span>Response<span class="token operator">!</span><span class="token punctuation">.</span>Results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        errorStatus <span class="token operator">=</span> api<span class="token punctuation">.</span>Error<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>As well as invoking AutoQuery CRUD APIs to put forward a Job Offer to an Applicant:</p><div class="language-csharp"><pre><code><span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">CreateJobOffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    offerResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">ApiAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">CreateJobOffer</span> <span class="token punctuation">{</span>
        JobApplicationId <span class="token operator">=</span> JobAppId<span class="token punctuation">,</span>
        SalaryOffer <span class="token operator">=</span> offerSalary<span class="token punctuation">,</span>
        Notes <span class="token operator">=</span> offerNotes<span class="token punctuation">,</span>
        ApplicationStatus <span class="token operator">=</span> JobApplicationStatus<span class="token punctuation">.</span>Offer
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>offerResult<span class="token punctuation">.</span>Succeeded<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">ResetOffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> <span class="token function">RefreshData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        showMakeOffer <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        errorStatus <span class="token operator">=</span> offerResult<span class="token punctuation">.</span>Error<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>With both examples also including error handling logic with all ServiceStack APIs returning errors in a structured <code>ResponseStatus</code> DTO which can be generically handled.</p><h2 id="managed-file-uploads" tabindex="-1">Managed File Uploads <a class="header-anchor" href="#managed-file-uploads" aria-hidden="true">#</a></h2><p>Talent Blazor also makes use of an exciting new feature in this release which dramatically reduces the effort to handle File Uploads which can be declaratively applied to APIs that also seamlessly integrates with Locode&#39;s built-in File Upload HTML Components.</p><p>The server functionality for this a high-level ServiceStack feature is encapsulated in the <code>FileUploadFeature</code> plugin which allows you to configure multiple managed file upload locations that can be declaratively bound to different APIs to make use of.</p><p>Upload Locations can be configured to use any of the supported <a href="/virtual-file-system#writable-virtual-file-system">Writable Virtual File Systems</a> including:</p><ul><li><code>FileSystemVirtualFiles</code> - Hard-disk or Network Files and Directories from a specified directory</li><li><code>S3VirtualFiles</code> - Files stored on Amazon&#39;s S3 Managed File Storage in <a href="https://github.com/ServiceStack/ServiceStack.Aws#s3virtualfiles" target="_blank" rel="noopener noreferrer">ServiceStack.Aws</a></li><li><code>AzureBlobVirtualFiles</code> - Files stored on Azure&#39;s Managed Blob Storage in <a href="https://github.com/ServiceStack/ServiceStack.Azure" target="_blank" rel="noopener noreferrer">ServiceStack.Azure</a></li><li><code>GistVirtualFiles</code> - Files persisted to a GitHub Gist</li><li><code>MemoryVirtualFiles</code> - Temporary Virtual Files and Folders that last for the lifetime of the AppHost</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Additional support for external file storages can be added by <a href="/virtual-file-system#implementing-a-new-virtual-file-system">Implementing a new Virtual File System</a></p></div><p>Managed file uploads is a generic feature any ServiceStack HTTP API can use by declaratively annotating it on Request DTOs. It&#39;s especially useful in <a href="/autoquery-crud">AutoQuery CRUD APIs</a> as it enables an easy way to populate a file path that can be stored along with a table row without the uploaded files embedded in the database itself, taking up valuable RDBMS resources and significantly impacting its performance.</p><h3 id="basic-file-upload-example" tabindex="-1">Basic File Upload Example <a class="header-anchor" href="#basic-file-upload-example" aria-hidden="true">#</a></h3><p>To demonstrate how to use the Managed File Uploads feature we&#39;ll look at handling the basic example of uploading files to publicly accessible <code>/wwwroot</code> folder location. The <a href="https://talent.locode.dev" target="_blank" rel="noopener noreferrer">talent.locode.dev</a> demo uses this to handle profile image uploads for Contacts and Users in different locations in its <a href="https://github.com/NetCoreApps/TalentBlazor/blob/main/TalentBlazor/Configure.AppHost.cs" target="_blank" rel="noopener noreferrer">Configure.AppHost.cs</a>:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> wwwrootVfs <span class="token operator">=</span> <span class="token generic-method"><span class="token function">GetVirtualFileSource</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>FileSystemVirtualFiles<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">FilesUploadFeature</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UploadLocation</span><span class="token punctuation">(</span><span class="token string">&quot;profiles&quot;</span><span class="token punctuation">,</span> wwwrootVfs<span class="token punctuation">,</span> <span class="token named-parameter punctuation">allowExtensions</span><span class="token punctuation">:</span>FileExt<span class="token punctuation">.</span>WebImages<span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">resolvePath</span><span class="token punctuation">:</span> ctx <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$&quot;/profiles/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ctx<span class="token punctuation">.</span>FileName</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UploadLocation</span><span class="token punctuation">(</span><span class="token string">&quot;users&quot;</span><span class="token punctuation">,</span> wwwrootVfs<span class="token punctuation">,</span> <span class="token named-parameter punctuation">allowExtensions</span><span class="token punctuation">:</span>FileExt<span class="token punctuation">.</span>WebImages<span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">resolvePath</span><span class="token punctuation">:</span> ctx <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$&quot;/profiles/users/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ctx<span class="token punctuation">.</span>UserAuthId</span><span class="token punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ctx<span class="token punctuation">.</span>FileExtension</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token comment">//...</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>As both locations are uploaded to the App&#39;s <code>/wwwroot</code> folder they&#39;ll be immediately accessible after they&#39;re uploaded. Contact profile images are saved using their uploaded FileName whilst User profiles are saved in a predictable location against their User Id and uploaded File Extension type.</p><p>The only default restriction placed on File Uploads is that they can only be performed by Authenticated Users. Each <code>UploadLocation</code> is able to use the several configuration options available to further restrict file uploads by file type, count, size, number of uploads or a custom validation function.</p><p>In this instance Talent Blazor restricts uploads in its <code>allowExtensions</code> to only images supported by Browsers - a server validation rule that also gets propagated to the client, limiting the user to only be able to select from its server-configured file extensions:</p><p><img src="`+f+`" alt=""></p><p>To simplify common configuration, <a href="https://github.com/ServiceStack/ServiceStack/blob/main/ServiceStack/src/ServiceStack/FilesUploadFeature.cs" target="_blank" rel="noopener noreferrer">we&#39;ve included</a> a number of pre-configured file extensions for different file types:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">FileExt</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> WebImages <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;png&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jpg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jpeg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;gif&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;svg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;webp&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> BinaryImages <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;png&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jpg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jpeg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;gif&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bmp&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tif&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tiff&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;webp&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ai&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;psd&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ps&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> Images <span class="token operator">=</span> WebImages<span class="token punctuation">.</span><span class="token function">CombineDistinct</span><span class="token punctuation">(</span>BinaryImages<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> WebVideos <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;avi&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;m4v&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mov&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mp4&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mpg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mpeg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;wmv&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;webm&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> WebAudios <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;mp3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mpa&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ogg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;wav&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;wma&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mid&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;webm&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> BinaryDocuments <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;doc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;docx&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pdf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;rtf&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> TextDocuments <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;tex&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;md&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;rst&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> Spreadsheets <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;xls&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xlsm&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xlsx&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ods&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;csv&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;txv&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> Presentations <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;odp&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pps&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ppt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pptx&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> AllDocuments <span class="token operator">=</span> BinaryDocuments<span class="token punctuation">.</span><span class="token function">CombineDistinct</span><span class="token punctuation">(</span>TextDocuments<span class="token punctuation">,</span> Presentations<span class="token punctuation">,</span> Spreadsheets<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> WebFormats <span class="token operator">=</span> WebImages<span class="token punctuation">.</span><span class="token function">CombineDistinct</span><span class="token punctuation">(</span>WebVideos<span class="token punctuation">,</span> WebAudios<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="using-file-upload-locations-in-apis" tabindex="-1">Using File Upload Locations in APIs <a class="header-anchor" href="#using-file-upload-locations-in-apis" aria-hidden="true">#</a></h3><p>With just the above configuration we can now use them in our APIs, which Talent Blazor uses in its <code>CreateContact</code> and <code>UpdateContact</code> <a href="/autoquery-crud">CRUD APIs</a> to handle uploading a contact profiles image when they&#39;re <strong>Created</strong> and <strong>Updated</strong> with the <code>[UploadTo]</code> attribute:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CreateContact</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ICreateDb<span class="token punctuation">&lt;</span>Contact<span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">IReturn<span class="token punctuation">&lt;</span>Contact<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateNotEmpty</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> FirstName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateNotEmpty</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> LastName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
    
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Input</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Type <span class="token operator">=</span> <span class="token string">&quot;file&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span> <span class="token class-name">UploadTo</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;profiles&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> ProfileUrl <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> SalaryExpectation <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateNotEmpty</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> JobType <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> AvailabilityWeeks <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">EmploymentType</span> PreferredWorkType <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateNotEmpty</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> PreferredLocation <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateNotEmpty</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Email <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> Phone <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UpdateContact</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IPatchDb<span class="token punctuation">&lt;</span>Contact<span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">IReturn<span class="token punctuation">&lt;</span>Contact<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateNotEmpty</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> FirstName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateNotEmpty</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> LastName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Input</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Type <span class="token operator">=</span> <span class="token string">&quot;file&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span> <span class="token class-name">UploadTo</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;profiles&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> ProfileUrl <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> SalaryExpectation <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateNotEmpty</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> JobType <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> AvailabilityWeeks <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">EmploymentType<span class="token punctuation">?</span></span> PreferredWorkType <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> PreferredLocation <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateNotEmpty</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> Email <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> Phone <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Input</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Type <span class="token operator">=</span> <span class="token string">&quot;textarea&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span> <span class="token class-name">FieldCss</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Field <span class="token operator">=</span> <span class="token string">&quot;col-span-12 text-center&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> About <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Only the <code>[UploadTo(location)]</code> attribute is required to instruct the API to use the specified Upload Location to handle the File Upload.</p><p>For successful uploads the Uploaded HTTP File will be saved to the configured file path which it populates on the <code>ProfileUrl</code> property, after which it&#39;s treated as a normal property, e.g. validated and saved along with the rest of the DTO properties in the <code>Contact</code> Table.</p><h4 id="auto-form-uis" tabindex="-1">Auto Form UIs <a class="header-anchor" href="#auto-form-uis" aria-hidden="true">#</a></h4><p>In API Explorer &amp; Locode Apps you&#39;ll want to pair this together with <code>[Input(Type=&quot;file&quot;)]</code> to instruct the Auto Form UI to use its built-in File Upload Input control to handle updating this property, which looks like:</p><p><a href="https://talent.locode.dev/locode/QueryContacts?edit=1" target="_blank" rel="noopener noreferrer"><img src="`+b+`" alt=""></a></p><h3 id="managed-multi-file-upload-example" tabindex="-1">Managed Multi File Upload example <a class="header-anchor" href="#managed-multi-file-upload-example" aria-hidden="true">#</a></h3><p>In addition to managing image profiles for its Users and Contacts, Talent Blazor also uses Managed File Uploads to handle accepting an Applicant&#39;s Job Application attachments. A more <a href="https://github.com/NetCoreApps/FileBlazor/blob/main/FileBlazor/Configure.AppHost.cs" target="_blank" rel="noopener noreferrer">advanced configuration</a> is needed for this use-case, that:</p><ul><li>Saves uploaded Applications to the non-servable <strong>~/App_Data</strong> folder</li><li>Limits Job Applications to a maximum of <strong>3 attachments</strong></li><li>Limits Max Upload size to <strong>10mb</strong></li><li>Allows <strong>non-authenticated Users</strong> to upload &amp; download their attachments</li></ul><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> appDataVfs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemVirtualFiles</span><span class="token punctuation">(</span>ContentRootDirectory<span class="token punctuation">.</span>RealPath<span class="token punctuation">.</span><span class="token function">CombineWith</span><span class="token punctuation">(</span><span class="token string">&quot;App_Data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">FilesUploadFeature</span><span class="token punctuation">(</span>
    <span class="token comment">//...</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UploadLocation</span><span class="token punctuation">(</span><span class="token string">&quot;applications&quot;</span><span class="token punctuation">,</span> appDataVfs<span class="token punctuation">,</span> <span class="token named-parameter punctuation">maxFileCount</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">maxFileBytes</span><span class="token punctuation">:</span> <span class="token number">10_000_000</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">resolvePath</span><span class="token punctuation">:</span> ctx <span class="token operator">=&gt;</span> ctx<span class="token punctuation">.</span><span class="token function">GetLocationPath</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>Dto <span class="token keyword">is</span> <span class="token class-name">CreateJobApplication</span> create
            <span class="token punctuation">?</span> <span class="token interpolation-string"><span class="token string">$&quot;jobapp/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">create<span class="token punctuation">.</span>JobId</span><span class="token punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">create<span class="token punctuation">.</span>ContactId</span><span class="token punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ctx<span class="token punctuation">.</span>FileName</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
            <span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$&quot;app/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ctx<span class="token punctuation">.</span>Dto<span class="token punctuation">.</span><span class="token function">GetId</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$&quot;/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ctx<span class="token punctuation">.</span>DateSegment</span><span class="token punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ctx<span class="token punctuation">.</span>FileName</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">readAccessRole</span><span class="token punctuation">:</span> RoleNames<span class="token punctuation">.</span>AllowAnon<span class="token punctuation">,</span> <span class="token named-parameter punctuation">writeAccessRole</span><span class="token punctuation">:</span> RoleNames<span class="token punctuation">.</span>AllowAnon<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>In this case instead of resolving a relative path from <code>/wwwroot</code> it uses <code>ctx.GetLocationPath()</code> to resolve to a <strong>managed file location</strong> whose access is managed by <code>FilesUploadFeature</code> File Management APIs:</p><table><thead><tr><th>API</th><th>Route</th><th>Description</th></tr></thead><tbody><tr><td><code>StoreFileUpload</code></td><td><strong>POST</strong> <code>/uploads/{Name}</code></td><td>Upload files to the specified managed location</td></tr><tr><td><code>GetFileUpload</code></td><td><strong>GET</strong> <code>/uploads/{Name}/{Path}</code></td><td>Download file from the specified managed location</td></tr><tr><td><code>ReplaceFileUpload</code></td><td><strong>PUT</strong> <code>/uploads/{Name}/{Path}</code></td><td>Overwrite file at the specified managed location</td></tr><tr><td><code>DeleteFileUpload</code></td><td><strong>DELETE</strong> <code>/uploads/{Name}/{Path}</code></td><td>Delete file at the specified managed location</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>/uploads</code> is the default overridable <code>BasePath</code> for <code>FilesUploadFeature</code> managed File APIs</p></div><p>We can now start accepting attachments with our Job Applications by adding <code>[Input(Type=&quot;file&quot;), UploadTo(&quot;applications&quot;)]</code> to the property where we want the Uploaded File metadata populated, when submitting and updating Job Applications:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CreateJobApplication</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ICreateDb<span class="token punctuation">&lt;</span>JobApplication<span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">IReturn<span class="token punctuation">&lt;</span>JobApplication<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateGreaterThan</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> JobId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ValidateGreaterThan</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> ContactId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime</span> AppliedDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">JobApplicationStatus</span> ApplicationStatus <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Input</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Type<span class="token operator">=</span><span class="token string">&quot;file&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span> <span class="token class-name">UploadTo</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;applications&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>JobApplicationAttachment<span class="token punctuation">&gt;</span></span> Attachments <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UpdateJobApplication</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IPatchDb<span class="token punctuation">&lt;</span>JobApplication<span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">IReturn<span class="token punctuation">&lt;</span>JobApplication<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> JobId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> ContactId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime<span class="token punctuation">?</span></span> AppliedDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">JobApplicationStatus</span> ApplicationStatus <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Input</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Type<span class="token operator">=</span><span class="token string">&quot;file&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span> <span class="token class-name">UploadTo</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;applications&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>JobApplicationAttachment<span class="token punctuation">&gt;</span><span class="token punctuation">?</span></span> Attachments <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This is all that&#39;s needed to configure our CRUD Services to handle multiple file uploads in Locode &amp; API Explorer:</p><p><img src="`+A+'" alt=""></p><p>Where the File Input behaves as just another Input control with contextual validation errors displayed when it exceeds any of the configured file restrictions on its Upload Location, e.g:</p><p><img src="'+v+'" alt=""></p><p>After a successful submission the attachments are uploaded to the configured managed location path which is then used to access the file in the Update Job Application Form UI:</p><p><img src="'+x+`" alt=""></p><h4 id="integrates-with-autoquery-crud" tabindex="-1">Integrates with AutoQuery CRUD <a class="header-anchor" href="#integrates-with-autoquery-crud" aria-hidden="true">#</a></h4><p>This is another example of how well this generic feature works with the rest of ServiceStack, where without any implementation logic the AutoQuery CRUD API is able to populate a <strong>1 to Many</strong> table relationship to capture the metadata of each uploaded file because the <code>Attachments</code> Request DTO property maps to a <code>[Reference]</code><a href="/ormlite/reference-support">POCO Reference</a> property which automatically populates Foreign Key Reference properties in CRUD APIs.</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JobApplication</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AuditBase</span></span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Reference</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>JobApplicationAttachment<span class="token punctuation">&gt;</span></span> Attachments <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JobApplicationAttachment</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoIncrement</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">References</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">JobApplication</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> JobApplicationId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> FileName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Format</span><span class="token attribute-arguments"><span class="token punctuation">(</span>FormatMethods<span class="token punctuation">.</span>Attachment<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> FilePath <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> ContentType <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Format</span><span class="token attribute-arguments"><span class="token punctuation">(</span>FormatMethods<span class="token punctuation">.</span>Bytes<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">long</span></span> ContentLength <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="uploaded-file-metadata-populated-in-complex-type-properties" tabindex="-1">Uploaded File Metadata populated in Complex Type properties <a class="header-anchor" href="#uploaded-file-metadata-populated-in-complex-type-properties" aria-hidden="true">#</a></h4><p>This also shows that <code>[UploadTo]</code> can either be applied to a <code>string</code> property where it&#39;s just populated with the path the file is uploaded to, or it could contain a <strong>complex type</strong> where any matching properties are populated with metadata of the uploaded file:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td>FilePath</td><td>The UploadLocation path where the file is uploaded to</td></tr><tr><td>Name</td><td>The form field name from the Content-Disposition header</td></tr><tr><td>FileName</td><td>The file name of the uploaded file</td></tr><tr><td>ContentLength</td><td>The size in bytes of the uploaded file</td></tr><tr><td>ContentType</td><td>The Content-Type of the uploaded file</td></tr></tbody></table><p>In addition, it also supports <code>List&lt;string&gt;</code> or <code>List&lt;T&gt;</code> complex types for handling <strong>multiple file uploads</strong>, as done in this case.</p><p>All these features work together to achieve our desired result of populating submitted applications in the <code>JobApplicationAttachment</code> joined table, so their metadata can be browsed, queried and navigated like any other related data without file system access and without their contents consuming RDBMS resources:</p><p><img src="`+t+`" alt=""></p><h3 id="uploading-files-from-c" tabindex="-1">Uploading Files from C# <a class="header-anchor" href="#uploading-files-from-c" aria-hidden="true">#</a></h3><p>We can see how Locode gives us instant utility and lets us start submitting file attachments with any AutoQuery CRUD DTO, but as the feature just uses the standard <a href="https://www.ietf.org/rfc/rfc2388.txt" target="_blank" rel="noopener noreferrer">HTTP multipart/form-data</a> Content-Type, we can use the existing <a href="/csharp-client">Service Client APIs</a> for uploading files as demonstrated in Talent Blazor&#39;s <a href="https://github.com/NetCoreApps/TalentBlazor/blob/main/TalentBlazor.Tests/FileUploadTests.cs" target="_blank" rel="noopener noreferrer">FileUploadTests.cs</a> which uploads a single attachment when creating a Contact with a Profile Image and multiple file attachments when submitting a Job Application:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> profileImg <span class="token operator">=</span> <span class="token keyword">await</span> ProfileImageUrl<span class="token punctuation">.</span><span class="token function">GetStreamFromUrlAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> contact <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">PostFileWithRequestAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Contact<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>profileImg<span class="token punctuation">,</span> <span class="token string">&quot;cody-fisher.png&quot;</span><span class="token punctuation">,</span> 
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">CreateContact</span>
    <span class="token punctuation">{</span>
        FirstName <span class="token operator">=</span> <span class="token string">&quot;Cody&quot;</span><span class="token punctuation">,</span>
        LastName <span class="token operator">=</span> <span class="token string">&quot;Fisher&quot;</span><span class="token punctuation">,</span>
        Email <span class="token operator">=</span> <span class="token string">&quot;cody.fisher@gmail.com&quot;</span><span class="token punctuation">,</span>
        JobType <span class="token operator">=</span> <span class="token string">&quot;Security&quot;</span><span class="token punctuation">,</span>
        PreferredLocation <span class="token operator">=</span> <span class="token string">&quot;Remote&quot;</span><span class="token punctuation">,</span>
        PreferredWorkType <span class="token operator">=</span> EmploymentType<span class="token punctuation">.</span>FullTime<span class="token punctuation">,</span>
        AvailabilityWeeks <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
        SalaryExpectation <span class="token operator">=</span> <span class="token number">100_000</span><span class="token punctuation">,</span>
        About <span class="token operator">=</span> <span class="token string">&quot;Lead Security Associate&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">fieldName</span><span class="token punctuation">:</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>CreateContact<span class="token punctuation">.</span>ProfileUrl<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// contact.ProfileUrl = /profiles/cody-fisher.png</span>

<span class="token class-name"><span class="token keyword">var</span></span> uploadedImage <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span>BaseUri<span class="token punctuation">.</span><span class="token function">CombineWith</span><span class="token punctuation">(</span>contact<span class="token punctuation">.</span>ProfileUrl<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetStreamFromUrlAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> coverLetter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileInfo</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">AppData</span><span class="token punctuation">}</span></span><span class="token string">/sample_coverletter.pdf&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> resume <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileInfo</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">AppData</span><span class="token punctuation">}</span></span><span class="token string">/sample_resume.pdf&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> attachmentsField <span class="token operator">=</span> <span class="token keyword">nameof</span><span class="token punctuation">(</span>CreateJobApplication<span class="token punctuation">.</span>Attachments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> uploadAttachments <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UploadFile<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span><span class="token punctuation">(</span>coverLetter<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> coverLetter<span class="token punctuation">.</span><span class="token function">OpenRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> attachmentsField<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span><span class="token punctuation">(</span>resume<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> coverLetter<span class="token punctuation">.</span><span class="token function">OpenRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> attachmentsField<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span><span class="token punctuation">(</span>contact<span class="token punctuation">.</span>ProfileUrl<span class="token punctuation">.</span><span class="token function">LastRightPart</span><span class="token punctuation">(</span><span class="token char">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> uploadedImage<span class="token punctuation">,</span> attachmentsField<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> jobApp <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">PostFilesWithRequestAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>JobApplication<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">CreateJobApplication</span> <span class="token punctuation">{</span>
        JobId <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
        AppliedDate <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>UtcNow<span class="token punctuation">,</span>
        ContactId <span class="token operator">=</span> contact<span class="token punctuation">.</span>Id<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> uploadAttachments<span class="token punctuation">)</span><span class="token punctuation">;</span>

uploadAttachments<span class="token punctuation">.</span><span class="token function">Each</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Stream<span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This example also shows APIs are able to submit files from any <code>Stream</code> that can be sourced from anywhere, including the HTTP Response stream of a Remote URI or files from a local hard drive.</p><h3 id="using-httpclient-multipartformdatacontent" tabindex="-1">Using HttpClient MultipartFormDataContent <a class="header-anchor" href="#using-httpclient-multipartformdatacontent" aria-hidden="true">#</a></h3><p>The introduction of <a href="/csharp-client#jsonapiclient">.NET 6+ JsonApiClient</a> lets us provide an even more flexible approach by utilizing <code>MultipartFormDataContent()</code> which we&#39;ve enhanced with high-level extension methods to enable a Fluent API for constructing custom API Requests populated from multiple sources, which can be sent using its <code>ApiForm*</code> methods:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> profileImg <span class="token operator">=</span> <span class="token keyword">await</span> ProfileImageUrl<span class="token punctuation">.</span><span class="token function">GetStreamFromUrlAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> createContact <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MultipartFormDataContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddParams</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">CreateContact</span>
    <span class="token punctuation">{</span>
        FirstName <span class="token operator">=</span> <span class="token string">&quot;Cody&quot;</span><span class="token punctuation">,</span>
        LastName <span class="token operator">=</span> <span class="token string">&quot;Fisher&quot;</span><span class="token punctuation">,</span>
        Email <span class="token operator">=</span> <span class="token string">&quot;cody.fisher@gmail.com&quot;</span><span class="token punctuation">,</span>
        JobType <span class="token operator">=</span> <span class="token string">&quot;Security&quot;</span><span class="token punctuation">,</span>
        PreferredLocation <span class="token operator">=</span> <span class="token string">&quot;Remote&quot;</span><span class="token punctuation">,</span>
        PreferredWorkType <span class="token operator">=</span> EmploymentType<span class="token punctuation">.</span>FullTime<span class="token punctuation">,</span>
        AvailabilityWeeks <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
        SalaryExpectation <span class="token operator">=</span> <span class="token number">100_000</span><span class="token punctuation">,</span>
        About <span class="token operator">=</span> <span class="token string">&quot;Lead Security Associate&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddFile</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>CreateContact<span class="token punctuation">.</span>ProfileUrl<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;cody-fisher.png&quot;</span><span class="token punctuation">,</span> profileImg<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> contactApi <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ApiFormAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Contact<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">CreateContact</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToApiUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> createContact<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// contactApi.Succeeded = true</span>
<span class="token class-name"><span class="token keyword">var</span></span> contact <span class="token operator">=</span> contactApi<span class="token punctuation">.</span>Response<span class="token operator">!</span><span class="token punctuation">;</span>
<span class="token comment">// contact.ProfileUrl   = /profiles/cody-fisher.png</span>

<span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> uploadedImage <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span>BaseUri<span class="token punctuation">.</span><span class="token function">CombineWith</span><span class="token punctuation">(</span>contact<span class="token punctuation">.</span>ProfileUrl<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetStreamFromUrlAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> coverLetter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileInfo</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">AppData</span><span class="token punctuation">}</span></span><span class="token string">/sample_coverletter.pdf&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> resume <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileInfo</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">AppData</span><span class="token punctuation">}</span></span><span class="token string">/sample_resume.pdf&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> attachmentsField <span class="token operator">=</span> <span class="token keyword">nameof</span><span class="token punctuation">(</span>CreateJobApplication<span class="token punctuation">.</span>Attachments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> createJobApp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MultipartFormDataContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddParams</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">CreateJobApplication</span> <span class="token punctuation">{</span>
        JobId <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
        AppliedDate <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>UtcNow<span class="token punctuation">,</span>
        ContactId <span class="token operator">=</span> contact<span class="token punctuation">.</span>Id<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddFile</span><span class="token punctuation">(</span>attachmentsField<span class="token punctuation">,</span> coverLetter<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddFile</span><span class="token punctuation">(</span>attachmentsField<span class="token punctuation">,</span> resume<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddFile</span><span class="token punctuation">(</span>attachmentsField<span class="token punctuation">,</span> contact<span class="token punctuation">.</span>ProfileUrl<span class="token punctuation">.</span><span class="token function">LastRightPart</span><span class="token punctuation">(</span><span class="token char">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> uploadedImage<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> jobAppApi <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ApiFormAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>JobApplication<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>
    <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">CreateJobApplication</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToApiUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> createJobApp<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// jobAppApi.Succeeded = true</span>
<span class="token class-name"><span class="token keyword">var</span></span> jobApp <span class="token operator">=</span> jobAppApi<span class="token punctuation">.</span>Response<span class="token operator">!</span><span class="token punctuation">;</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>All <code>JsonApiClient</code> Async APIs also have <a href="/csharp-client#safe-sync-httpclient-apis">safe sync equivalents</a> when access outside an async method is needed</p></div><h3 id="versatile-multi-part-content-type-apis" tabindex="-1">Versatile Multi Part Content Type APIs <a class="header-anchor" href="#versatile-multi-part-content-type-apis" aria-hidden="true">#</a></h3><p><a href="https://github.com/ServiceStack/ServiceStack/blob/main/ServiceStack/tests/ServiceStack.WebHost.Endpoints.Tests/AutoQueryCrudTests.References.cs" target="_blank" rel="noopener noreferrer">AutoQueryCrudTests.References.cs</a> also showcases how we can take advantage of <code>MultipartFormDataContent</code> to construct custom requests using a combination of different Content Type sources, including single and multiple file attachments within a single request:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MultipartRequest</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IPost</span><span class="token punctuation">,</span> <span class="token class-name">IReturn<span class="token punctuation">&lt;</span>MultipartRequest<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> String <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
    <span class="token comment">// Complex types sent as JSV by default</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Contact</span> Contact <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">MultiPartField</span><span class="token attribute-arguments"><span class="token punctuation">(</span>MimeTypes<span class="token punctuation">.</span>Json<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">PhoneScreen</span> PhoneScreen <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">MultiPartField</span><span class="token attribute-arguments"><span class="token punctuation">(</span>MimeTypes<span class="token punctuation">.</span>Csv<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Contact<span class="token punctuation">&gt;</span></span> Contacts <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">UploadTo</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;profiles&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> ProfileUrl <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">UploadTo</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;applications&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>UploadedFile<span class="token punctuation">&gt;</span></span> UploadedFiles <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre></div><p><a href="/serialization-deserialization">Complex types are sent using JSV</a> by default which is a more human &amp; wrist-friendly and more efficient format than JSON, however we could also take advantage of the flexibility in HTTP <strong>multipart/form-data</strong> requests to construct an HTTP API Request utilizing multiple Content-Type&#39;s optimized for the data we&#39;re sending, e.g:</p><ul><li>JSON/JSV more optimal for <strong>hierarchical graph data</strong></li><li>CSV more optimal for sending <strong>tabular data</strong></li><li>File Uploads are more optimal for sending <strong>large files</strong></li></ul><p>To facilitate this in our Server APIs we can use <code>[MultiPartField]</code> attribute to instruct ServiceStack which registered serializer it should use to deserialize the form-data payload, whilst we can continue using the generic <code>[UploadTo]</code> attribute in normal APIs to handle our File Uploads and populate the Request DTO with the uploaded file metadata.</p><p>Our <code>MultipartFormDataContent</code> extension methods simplifies our client logic by allowing us to easily populate this custom request in a single Fluent construction expression:</p><div class="language-csharp"><pre><code><span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> content <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MultipartFormDataContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddParam</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>MultipartRequest<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddParam</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>MultipartRequest<span class="token punctuation">.</span>String<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddParam</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>MultipartRequest<span class="token punctuation">.</span>Contact<span class="token punctuation">)</span><span class="token punctuation">,</span> 
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Contact</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> FirstName <span class="token operator">=</span> <span class="token string">&quot;First&quot;</span><span class="token punctuation">,</span> LastName <span class="token operator">=</span> <span class="token string">&quot;Last&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddJsonParam</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>MultipartRequest<span class="token punctuation">.</span>PhoneScreen<span class="token punctuation">)</span><span class="token punctuation">,</span> 
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PhoneScreen</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> JobApplicationId <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> Notes <span class="token operator">=</span> <span class="token string">&quot;The Notes&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddCsvParam</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>MultipartRequest<span class="token punctuation">.</span>Contacts<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Contact</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> FirstName <span class="token operator">=</span> <span class="token string">&quot;First2&quot;</span><span class="token punctuation">,</span> LastName <span class="token operator">=</span> <span class="token string">&quot;Last2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Contact</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> FirstName <span class="token operator">=</span> <span class="token string">&quot;First3&quot;</span><span class="token punctuation">,</span> LastName <span class="token operator">=</span> <span class="token string">&quot;Last3&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddFile</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>MultipartRequest<span class="token punctuation">.</span>ProfileUrl<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;profile.txt&quot;</span><span class="token punctuation">,</span> file1Stream<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddFile</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>MultipartRequest<span class="token punctuation">.</span>UploadedFiles<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;uploadedFiles1.txt&quot;</span><span class="token punctuation">,</span> file2Stream<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddFile</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>MultipartRequest<span class="token punctuation">.</span>UploadedFiles<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;uploadedFiles2.txt&quot;</span><span class="token punctuation">,</span> file3Stream<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> api <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ApiFormAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>MultipartRequest<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">MultipartRequest</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToApiUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>api<span class="token punctuation">.</span>Succeeded<span class="token punctuation">)</span> api<span class="token punctuation">.</span>Error<span class="token punctuation">.</span><span class="token function">PrintDump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="uploading-files-from-js-typescript" tabindex="-1">Uploading Files from JS/TypeScript <a class="header-anchor" href="#uploading-files-from-js-typescript" aria-hidden="true">#</a></h3><p>Similarly, we can populate custom requests by either programmatically constructing the <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer">FormData</a> object, which also benefits from native integration in browsers where it can be populated directly from an HTML Form:</p><div class="language-ts"><pre><code><span class="token keyword">let</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JsonServiceClient</span><span class="token punctuation">(</span>BaseUrl<span class="token punctuation">)</span>
<span class="token keyword">let</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>forms<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> api <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">apiForm</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MultipartRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> formData<span class="token punctuation">)</span>
</code></pre></div><p>Where <code>apiForm</code> can be used to submit <code>FormData</code> requests for normal API Requests, or <code>apiFormVoid</code> for <code>IReturnVoid</code> API requests.</p><h3 id="substitutable-virtual-file-providers" tabindex="-1">Substitutable Virtual File Providers <a class="header-anchor" href="#substitutable-virtual-file-providers" aria-hidden="true">#</a></h3><p>We&#39;ve also created the <a href="https://file.locode.dev" target="_blank" rel="noopener noreferrer">File Blazor Demo</a> to further demonstrate the versatility of the <code>FilesUploadFeature</code> to seamlessly manage uploading files to multiple different locations using different Virtual Files providers that&#39;s still able to utilize the same custom configuration and validation in its <a href="https://github.com/NetCoreApps/FileBlazor/blob/main/FileBlazor/Configure.AppHost.cs" target="_blank" rel="noopener noreferrer">Configure.AppHost.cs</a>:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> appFs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemVirtualFiles</span><span class="token punctuation">(</span>ContentRootDirectory<span class="token punctuation">.</span>RealPath<span class="token punctuation">.</span><span class="token function">CombineWith</span><span class="token punctuation">(</span><span class="token string">&quot;App_Data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">AssertDir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> s3Client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AmazonS3Client</span><span class="token punctuation">(</span>awsAccessKeyId<span class="token punctuation">,</span> awsSecretAccessKey<span class="token punctuation">,</span> RegionEndpoint<span class="token punctuation">.</span>USEast1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> s3DataVfs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">S3VirtualFiles</span><span class="token punctuation">(</span>s3Client<span class="token punctuation">,</span> <span class="token string">&quot;file-blazor-demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> azureBlobVfs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AzureBlobVirtualFiles</span><span class="token punctuation">(</span>azureBlobConnString<span class="token punctuation">,</span> <span class="token string">&quot;file-blazor-demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">FilesUploadFeature</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UploadLocation</span><span class="token punctuation">(</span><span class="token string">&quot;azure&quot;</span><span class="token punctuation">,</span> azureBlobVfs<span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">readAccessRole</span><span class="token punctuation">:</span> RoleNames<span class="token punctuation">.</span>AllowAnon<span class="token punctuation">,</span> <span class="token named-parameter punctuation">resolvePath</span><span class="token punctuation">:</span> ResolveUploadPath<span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">validateUpload</span><span class="token punctuation">:</span> ValidateUpload<span class="token punctuation">,</span> <span class="token named-parameter punctuation">validateDownload</span><span class="token punctuation">:</span> ValidateDownload<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UploadLocation</span><span class="token punctuation">(</span><span class="token string">&quot;s3&quot;</span><span class="token punctuation">,</span> s3DataVfs<span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">readAccessRole</span><span class="token punctuation">:</span> RoleNames<span class="token punctuation">.</span>AllowAnon<span class="token punctuation">,</span> <span class="token named-parameter punctuation">resolvePath</span><span class="token punctuation">:</span> ResolveUploadPath<span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">validateUpload</span><span class="token punctuation">:</span> ValidateUpload<span class="token punctuation">,</span> <span class="token named-parameter punctuation">validateDownload</span><span class="token punctuation">:</span> ValidateDownload<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UploadLocation</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">,</span> appFs<span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">readAccessRole</span><span class="token punctuation">:</span> RoleNames<span class="token punctuation">.</span>AllowAnon<span class="token punctuation">,</span> <span class="token named-parameter punctuation">resolvePath</span><span class="token punctuation">:</span> ResolveUploadPath<span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">validateUpload</span><span class="token punctuation">:</span> ValidateUpload<span class="token punctuation">,</span> <span class="token named-parameter punctuation">validateDownload</span><span class="token punctuation">:</span> ValidateDownload<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ResolveUploadPath</span><span class="token punctuation">(</span><span class="token class-name">FilesUploadContext</span> ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    ctx<span class="token punctuation">.</span>Dto <span class="token keyword">is</span> <span class="token class-name">IAppFile</span> <span class="token punctuation">{</span> FileAccessType<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> createFile
        <span class="token punctuation">?</span> createFile<span class="token punctuation">.</span>FileAccessType <span class="token operator">!=</span> <span class="token return-type class-name">FileAccessType<span class="token punctuation">.</span>Private
            <span class="token punctuation">?</span></span> ctx<span class="token punctuation">.</span><span class="token function">GetLocationPath</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">createFile<span class="token punctuation">.</span>FileAccessType</span><span class="token punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ctx<span class="token punctuation">.</span>FileName</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">:</span> ctx<span class="token punctuation">.</span><span class="token function">GetLocationPath</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">createFile<span class="token punctuation">.</span>FileAccessType</span><span class="token punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ctx<span class="token punctuation">.</span>UserAuthId</span><span class="token punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ctx<span class="token punctuation">.</span>FileName</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">:</span> <span class="token keyword">throw</span> HttpError<span class="token punctuation">.</span><span class="token function">BadRequest</span><span class="token punctuation">(</span><span class="token string">&quot;Invalid file creation request.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ValidateUpload</span><span class="token punctuation">(</span><span class="token class-name">IRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">IHttpFile</span> file<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>Dto <span class="token keyword">is</span> <span class="token class-name">IAppFile</span> createFile<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> accessType <span class="token operator">=</span> createFile<span class="token punctuation">.</span>FileAccessType<span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> ext <span class="token operator">=</span> file<span class="token punctuation">.</span>FileName<span class="token punctuation">.</span><span class="token function">LastRightPart</span><span class="token punctuation">(</span><span class="token char">&#39;.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>accessType <span class="token operator">==</span> FileAccessType<span class="token punctuation">.</span>Gallery <span class="token operator">&amp;&amp;</span> ext <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> FileExt<span class="token punctuation">.</span>Images<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>ext<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token string">&quot;Supported file extensions: {0}&quot;</span><span class="token punctuation">.</span><span class="token function">LocalizeFmt</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> 
                <span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">,</span> FileExt<span class="token punctuation">.</span>Images<span class="token punctuation">.</span><span class="token function">Map</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> <span class="token char">&#39;.&#39;</span> <span class="token operator">+</span> x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">OrderBy</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> file<span class="token punctuation">.</span>FileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HttpError</span><span class="token punctuation">(</span><span class="token string">&quot;Invalid request.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
</code></pre></div><h3 id="memory-virtual-file-sources" tabindex="-1">Memory Virtual File Sources <a class="header-anchor" href="#memory-virtual-file-sources" aria-hidden="true">#</a></h3><p>ServiceStack AppHost&#39;s are configured with an empty Memory VFS which can be used to transiently prepopulate App files from external sources on Startup or maintain temporary working files with the same lifetime of the App without needing to persist to disk.</p><p>They&#39;re also a great solution for Integration Testing managed file access without creating any persistent artifacts as done in <a href="https://github.com/ServiceStack/ServiceStack/blob/main/ServiceStack/tests/ServiceStack.WebHost.Endpoints.Tests/AutoQueryCrudTests.References.cs" target="_blank" rel="noopener noreferrer">AutoQueryCrudTests.References.cs</a></p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> memFs <span class="token operator">=</span> <span class="token generic-method"><span class="token function">GetVirtualFileSource</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>MemoryVirtualFiles<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">FilesUploadFeature</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UploadLocation</span><span class="token punctuation">(</span><span class="token string">&quot;profiles&quot;</span><span class="token punctuation">,</span> memFs<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UploadLocation</span><span class="token punctuation">(</span><span class="token string">&quot;applications&quot;</span><span class="token punctuation">,</span> memFs<span class="token punctuation">,</span> <span class="token named-parameter punctuation">maxFileCount</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">maxFileBytes</span><span class="token punctuation">:</span> <span class="token number">10_000_000</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">resolvePath</span><span class="token punctuation">:</span> ctx <span class="token operator">=&gt;</span> ctx<span class="token punctuation">.</span><span class="token function">GetLocationPath</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>Dto <span class="token keyword">is</span> <span class="token class-name">CreateJobApplication</span> create
            <span class="token punctuation">?</span> <span class="token interpolation-string"><span class="token string">$&quot;job/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">create<span class="token punctuation">.</span>JobId</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
            <span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$&quot;app/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ctx<span class="token punctuation">.</span>Dto<span class="token punctuation">.</span><span class="token function">GetId</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$&quot;/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ctx<span class="token punctuation">.</span>DateSegment</span><span class="token punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ctx<span class="token punctuation">.</span>FileName</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">readAccessRole</span><span class="token punctuation">:</span>RoleNames<span class="token punctuation">.</span>AllowAnon<span class="token punctuation">,</span> <span class="token named-parameter punctuation">writeAccessRole</span><span class="token punctuation">:</span>RoleNames<span class="token punctuation">.</span>AllowAnon<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="configuring-database-first-apps" tabindex="-1">Configuring Database-First Apps <a class="header-anchor" href="#configuring-database-first-apps" aria-hidden="true">#</a></h3><p>As <a href="/locode/database-first">Database-First Types</a> are only generated &amp; exist at runtime they can&#39;t be explicitly annotated with <code>[UploadTo]</code> attributes, instead they can be added dynamically at runtime by using AutoQuery&#39;s <code>TypeFilter</code> which is invoked for all Types including Request and Response DTO types.</p><p>An <a href="https://github.com/NetCoreApps/NorthwindAuto/blob/master/Configure.AppHost.cs" target="_blank" rel="noopener noreferrer">example of this</a> can be found in the <code>Northwind</code> Locode Database-First demo which uses <code>type.Name == &quot;Employee&quot;</code> to match on the <code>Employee</code> Data Model and <code>IsCrudCreateOrUpdate(&quot;Employee&quot;)</code> Metadata Type extension method to target its <code>CreateEmployee</code> and <code>UpdateEmployee</code> CRUD APIs:</p><div class="language-csharp"><pre><code>TypeFilter <span class="token operator">=</span> <span class="token punctuation">(</span>type<span class="token punctuation">,</span> req<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type<span class="token punctuation">.</span>Name <span class="token operator">==</span> <span class="token string">&quot;Employee&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Remove embedded Blob column from Data Model Type </span>
        type<span class="token punctuation">.</span>Properties<span class="token punctuation">.</span><span class="token function">RemoveAll</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Name <span class="token operator">==</span> <span class="token string">&quot;Photo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token function">IsCrudCreateOrUpdate</span><span class="token punctuation">(</span><span class="token string">&quot;Employee&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Add \`[Input]\` and \`[UploadTo]\` attributes to \`PhotoPath\` managed file upload property</span>
        type<span class="token punctuation">.</span><span class="token function">Property</span><span class="token punctuation">(</span><span class="token string">&quot;PhotoPath&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">AddAttribute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">InputAttribute</span> <span class="token punctuation">{</span> Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>File <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">AddAttribute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">UploadToAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;employees&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The result of this is converting the Northwind Database from using the <code>Photo</code> blob column to persist image bit maps and instead uses the <code>PhotoPath</code> column to maintain an external file reference to their Profile Photo which is managed by the <code>FilesUploadFeature</code> to persist images to its configured <code>FileSystemVirtualFiles</code> virtual file source.</p><h3 id="http-range-streaming-support-for-large-s3-downloads" tabindex="-1">HTTP Range Streaming support for large S3 downloads <a class="header-anchor" href="#http-range-streaming-support-for-large-s3-downloads" aria-hidden="true">#</a></h3><p>A new <code>WritePartialToAsync</code> API was added to <code>IVirtualFile</code></p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IVirtualFile</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IVirtualNode</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token return-type class-name">Task</span> <span class="token function">WritePartialToAsync</span><span class="token punctuation">(</span><span class="token class-name">Stream</span> toStream<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> start<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> end<span class="token punctuation">,</span> <span class="token class-name">CancellationToken</span> token<span class="token operator">=</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>To support <a href="https://forums.servicestack.net/t/access-to-videos-over-5m/10409" target="_blank" rel="noopener noreferrer">HTTP Range Streaming for Large S3 Files</a>, which required a custom implementation in order to construct chunked S3 <code>ByteRange</code> requests.</p><h2 id="autoquery-crud-poco-references" tabindex="-1">AutoQuery CRUD POCO References <a class="header-anchor" href="#autoquery-crud-poco-references" aria-hidden="true">#</a></h2><p>Previously AutoQuery APIs only supported <a href="/ormlite/reference-support#querying-poco-s-with-references">POCO References for Querying</a>, providing an efficient way to return related data in a single AutoQuery Response.</p><p>This release sees POCO reference support expanded to also support Create &amp; Update CRUD APIs which can map complex type properties:</p><div class="language-csharp"><pre><code><span class="token comment">// AutQuery CRUD API</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CreateJobApplication</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ICreateDb<span class="token punctuation">&lt;</span>JobApplication<span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">IReturn<span class="token punctuation">&lt;</span>JobApplication<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>JobApplicationAttachment<span class="token punctuation">&gt;</span></span> Attachments <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>To POCO Reference properties on the <code>JobApplication</code> target model:</p><div class="language-csharp"><pre><code><span class="token comment">// Data Model</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JobApplication</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AuditBase</span></span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Reference</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>JobApplicationAttachment<span class="token punctuation">&gt;</span></span> Attachments <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>

<span class="token comment">// 1:M Related Data Model</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JobApplicationAttachment</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoIncrement</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>               <span class="token comment">// PK populated by RDBMS</span>

    <span class="token punctuation">[</span><span class="token function">References</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">JobApplication</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> JobApplicationId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// FK populated by OrmLite</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> FileName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> FilePath <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> ContentType <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">long</span></span> ContentLength <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Which now has the same behavior as OrmLite&#39;s <code>Save()</code> API in saving an entity and all its references:</p><div class="language-csharp"><pre><code>db<span class="token punctuation">.</span><span class="token function">Save</span><span class="token punctuation">(</span>jobApp<span class="token punctuation">,</span> <span class="token named-parameter punctuation">references</span><span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Which works as we expect in saving the parent entity and populating any Foreign Key properties in its related <strong>1:1</strong> or <strong>1:M</strong> related Tables:</p><p><img src="`+t+'" alt=""></p><h2 id="audit-history-tracking" tabindex="-1">Audit History Tracking <a class="header-anchor" href="#audit-history-tracking" aria-hidden="true">#</a></h2><p>A benefit to AutoQuery&#39;s structured declarative approach to its CRUD APIs is that it&#39;s better able to enable high-level generic functionality that can benefit all CRUD APIs. AutoQuery CRUD&#39;s <a href="/autoquery-audit-log">Executable Audit Log</a> is an example of this which makes use of <a href="/autoquery-crud#autoquery-crud-attributes">AutoQuery CRUD Attributes</a> to capture every CRUD operation responsible for any modifications to its underlying RDBMS tables.</p><p>We&#39;ll explore an overview of this feature by applying it to our simple Bookings table from the <a href="/autoquery-crud-bookings">AutoQuery CRUD Bookings Demo</a> included in all <a href="https://jamstacks.net/" target="_blank" rel="noopener noreferrer">jamstacks.net</a> project templates there by adding the ability to track all CRUD API operations and with it all modifications made to our <code>Booking</code> RDBMS table.</p>',132),W=n("iframe",{class:"video-hd",src:"https://www.youtube.com/embed/rSFiikDjGos",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,-1),Q=s(`<h3 id="enabling-crud-events" tabindex="-1">Enabling Crud Events <a class="header-anchor" href="#enabling-crud-events" aria-hidden="true">#</a></h3><p>First thing we need to do is register the <code>ICrudEvents</code> dependency in our App&#39;s IOC, in this case uses <code>OrmLiteCrudEvents</code> to store all Audit Information in the <code>CrudEvent</code> table of our configured database:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigureAutoQuery</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IHostingStartup</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Configure</span><span class="token punctuation">(</span><span class="token class-name">IWebHostBuilder</span> builder<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> builder
        <span class="token punctuation">.</span><span class="token function">ConfigureServices</span><span class="token punctuation">(</span>services <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// Enable Audit History</span>
            services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSingleton</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ICrudEvents<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>c <span class="token operator">=&gt;</span>
                <span class="token keyword">new</span> <span class="token constructor-invocation class-name">OrmLiteCrudEvents</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Resolve</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IDbConnectionFactory<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">ConfigureAppHost</span><span class="token punctuation">(</span>appHost <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            appHost<span class="token punctuation">.</span>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">AutoQueryFeature</span> <span class="token punctuation">{</span>
                MaxLimit <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">,</span>
                <span class="token comment">//IncludeTotal = true,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// Create CrudEvent if it doesn&#39;t exist</span>
            appHost<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Resolve</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ICrudEvents<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">InitSchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>As <code>ICrudEvents</code> stores all events in a separate table, we also need to use <code>InitSchema</code> above to create the <code>CrudEvent</code> table if it doesn&#39;t already exist.</p><h3 id="enabling-audit-history-tracking-on-data-models-and-apis" tabindex="-1">Enabling Audit History Tracking on Data Models and APIs <a class="header-anchor" href="#enabling-audit-history-tracking-on-data-models-and-apis" aria-hidden="true">#</a></h3><p>With <code>ICrudEvents</code> registered, we can now choose which Data Models we want to enable Audit Tracking on by having them inherit from the built-in <code>AuditBase</code> class:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Booking</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AuditBase</span></span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoIncrement</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">RoomType</span> RoomType <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> RoomNumber <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime</span> BookingStartDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime<span class="token punctuation">?</span></span> BookingEndDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">decimal</span></span> Cost <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Notes <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span><span class="token punctuation">?</span></span> Cancelled <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This will extend our RDBMS tables with additional Audit Info to capture who and when bookings were <strong>Created</strong>, <strong>Last Modified</strong> and <strong>Deleted</strong> (when using Soft Deletes):</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AuditBase</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime</span> CreatedDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> CreatedBy <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime</span> ModifiedDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> ModifiedBy <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime<span class="token punctuation">?</span></span> DeletedDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> DeletedBy <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Even without needing to inspect the audit history table, capturing this info on its own provides valuable insight into the provenance of each booking.</p><h4 id="configuring-crud-apis" tabindex="-1">Configuring CRUD APIs <a class="header-anchor" href="#configuring-crud-apis" aria-hidden="true">#</a></h4><p>The appropriate <code>[AutoApply]</code> behavior then needs to be added on all the CRUD APIs for the data models we want Audit History tracking enabled on, e.g:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoApply</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Behavior<span class="token punctuation">.</span>AuditQuery<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueryBookings</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">QueryDb<span class="token punctuation">&lt;</span>Booking<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoApply</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Behavior<span class="token punctuation">.</span>AuditCreate<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CreateBooking</span>
    <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ICreateDb<span class="token punctuation">&lt;</span>Booking<span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">IReturn<span class="token punctuation">&lt;</span>IdResponse<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoApply</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Behavior<span class="token punctuation">.</span>AuditModify<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UpdateBooking</span>
    <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IPatchDb<span class="token punctuation">&lt;</span>Booking<span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">IReturn<span class="token punctuation">&lt;</span>IdResponse<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoApply</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Behavior<span class="token punctuation">.</span>AuditSoftDelete<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeleteBooking</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IDeleteDb<span class="token punctuation">&lt;</span>Booking<span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">IReturnVoid</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Use <code>Behavior.AuditDelete</code> instead if you prefer your delete operations resulted in permanent hard deletes</p></div><h3 id="audit-info-in-locode" tabindex="-1">Audit Info in Locode <a class="header-anchor" href="#audit-info-in-locode" aria-hidden="true">#</a></h3><p>The <code>AutoQueryFeature.AccessRole</code> determines the accessibility of the CRUD Event APIs that Locode uses to display the Audit History logs for each entity, which by default is restricted to <strong>Admin</strong> users who can view the Audit History of each record at the bottom of its <strong>Edit</strong> Form.</p><p>With our Bookings CRUD APIs now configured with Audit behavior we can see an example of what this looks like in Locode after the Employee User account records a Booking from <strong>John Smith</strong> for a <strong>Single</strong> room:</p><p><img src="`+C+'" alt=""></p><p>With the left section displaying audit information about the CRUD operation and the User making it including their UserName, Id and IP. The right section contains the info sent in the Request DTO, in this case the <code>CreateBooking</code> API.</p><p>If <strong>John Smith</strong> later contacts the manager to upgrade his booking to a <strong>Suite</strong>, the Audit information will be updated with the <code>UpdateBooking</code> Audit entry which as it is a <code>IPatchDb&lt;Table&gt;</code> operation, only contains information that&#39;s <strong>changed</strong>:</p><p><img src="'+q+`" alt=""></p><p>This is typically why the behavior of <code>IPatchDb&lt;Table&gt;</code> is preferable over <code>IUpdateDb&lt;Table&gt;</code> APIs when Audit Tracking is enabled as otherwise each Update operation would instead contain the entire entry on each update.</p><p>For more info, see the <a href="/locode/auditing">Locode Auditing</a> and <a href="/autoquery-audit-log">AutoQuery CRUD Executable Audit Log</a> docs.</p><h2 id="servicestack-redis" tabindex="-1">ServiceStack.Redis <a class="header-anchor" href="#servicestack-redis" aria-hidden="true">#</a></h2><h3 id="support-for-acl-usernames" tabindex="-1">Support for ACL Usernames <a class="header-anchor" href="#support-for-acl-usernames" aria-hidden="true">#</a></h3><p>Support for authenticating with <strong>ACL Usernames</strong> was added to ServiceStack.Redis, configurable via the connection string:</p><div class="language-csharp"><pre><code><span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> redisManager1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RedisManagerPool</span><span class="token punctuation">(</span>
    <span class="token string">&quot;localhost:6379?username=&quot;</span> <span class="token operator">+</span> username<span class="token punctuation">.</span><span class="token function">UrlEncode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&amp;password=&quot;</span> <span class="token operator">+</span> password<span class="token punctuation">.</span><span class="token function">UrlEncode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Using the <code>Username</code> property on <code>RedisClient</code>:</p><div class="language-csharp"><pre><code><span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> redisManager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RedisManagerPool</span><span class="token punctuation">(</span><span class="token string">&quot;localhost:6379&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> client <span class="token operator">=</span> redisManager<span class="token punctuation">.</span><span class="token function">GetClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
client2<span class="token punctuation">.</span>Username <span class="token operator">=</span> username<span class="token punctuation">;</span>
client2<span class="token punctuation">.</span>Password <span class="token operator">=</span> password<span class="token punctuation">;</span>
</code></pre></div><p>Using a custom <strong>AUTH</strong> command:</p><div class="language-csharp"><pre><code><span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> redisManager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RedisManagerPool</span><span class="token punctuation">(</span><span class="token string">&quot;localhost:6379&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> client <span class="token operator">=</span> redisManager<span class="token punctuation">.</span><span class="token function">GetClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
client<span class="token punctuation">.</span><span class="token function">Custom</span><span class="token punctuation">(</span><span class="token string">&quot;AUTH&quot;</span><span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="new-redisclient-apis" tabindex="-1">New RedisClient APIs <a class="header-anchor" href="#new-redisclient-apis" aria-hidden="true">#</a></h3><p>UTF-8 string APIs for <a href="https://redis.io/commands/getrange/" target="_blank" rel="noopener noreferrer">GETRANGE</a> and <a href="https://redis.io/commands/setrange/" target="_blank" rel="noopener noreferrer">SETRANGE</a> have now been added to <code>IRedisClient</code>:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IRedisClient</span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Slice</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> key<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> fromIndex<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> toIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">long</span></span> <span class="token function">InsertAt</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> key<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> offset<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>and Async versions to:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IRedisClientAsync</span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name">ValueTask<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">SliceAsync</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> key<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> fromIndex<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> toIndex<span class="token punctuation">,</span> <span class="token class-name">CancellationToken</span> token <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">ValueTask<span class="token punctuation">&lt;</span><span class="token keyword">long</span><span class="token punctuation">&gt;</span></span> <span class="token function">InsertAtAsync</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> key<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> offset<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> <span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token class-name">CancellationToken</span> token <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="breaking-changes" tabindex="-1">Breaking Changes <a class="header-anchor" href="#breaking-changes" aria-hidden="true">#</a></h2><h3 id="customizing-inputs-and-fields-in-code" tabindex="-1">Customizing Inputs and Fields in Code <a class="header-anchor" href="#customizing-inputs-and-fields-in-code" aria-hidden="true">#</a></h3><p>Previously to define custom form layouts for the User Form in <a href="/admin-ui">Admin UI</a>, e.g:</p><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ServiceStack<span class="token punctuation">.</span>Admin<span class="token punctuation">.</span>AdminUsersFeature</span> <span class="token punctuation">{</span>
    UserFormLayout <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Email<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>DisplayName<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Company<span class="token punctuation">)</span><span class="token punctuation">,</span>
            Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Department<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>PhoneNumber<span class="token punctuation">,</span> c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span>Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>Tel<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Nickname<span class="token punctuation">,</span> c <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                c<span class="token punctuation">.</span>Help <span class="token operator">=</span> <span class="token string">&quot;Public alias (3-12 lower alpha numeric chars)&quot;</span><span class="token punctuation">;</span>
                c<span class="token punctuation">.</span>Pattern <span class="token operator">=</span> <span class="token string">&quot;^[a-z][a-z0-9_.-]{3,12}$&quot;</span><span class="token punctuation">;</span>
                <span class="token comment">//c.Required = true;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>ProfileUrl<span class="token punctuation">,</span> c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span>Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>Url<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>IsArchived<span class="token punctuation">)</span><span class="token punctuation">,</span> Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>ArchivedDate<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Or API Forms in <a href="/api-explorer">API Explorer&#39;s</a> Auto Form UI would require defining its grid layout using a <strong>List of Lists</strong>, e.g:</p><div class="language-csharp"><pre><code>appHost<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ConfigureOperation</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Register<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>op <span class="token operator">=&gt;</span> op<span class="token punctuation">.</span>FormLayout <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Register<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>DisplayName<span class="token punctuation">,</span>     x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Help <span class="token operator">=</span> <span class="token string">&quot;Your first and last name&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Register<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Email<span class="token punctuation">,</span>           x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>Email<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Register<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Password<span class="token punctuation">,</span>        x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>Password<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Register<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>ConfirmPassword<span class="token punctuation">,</span> x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>Password<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>But as this was insufficient for being able to define responsive grid layouts at different breakpoints, the FormLayout was flattened into a single list of inputs, e.g:</p><div class="language-csharp"><pre><code>appHost<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ConfigureOperation</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Register<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>op <span class="token operator">=&gt;</span> op<span class="token punctuation">.</span>FormLayout <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Register<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>DisplayName<span class="token punctuation">,</span>     x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Help <span class="token operator">=</span> <span class="token string">&quot;Your first and last name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Register<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Email<span class="token punctuation">,</span>           x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>Email<span class="token punctuation">)</span><span class="token punctuation">,</span>
    Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Register<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Password<span class="token punctuation">,</span>        x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>Password<span class="token punctuation">)</span><span class="token punctuation">,</span>
    Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Register<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>ConfirmPassword<span class="token punctuation">,</span> x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>Password<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Although despite being a flattened list we&#39;re still able to customize the form layout by using the Typed <code>FieldsPerRow()</code> helper method:</p><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">AdminUsersFeature</span> <span class="token punctuation">{</span>
    <span class="token comment">// Add Custom Fields to Create/Edit User Forms</span>
    FormLayout <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Email<span class="token punctuation">,</span> x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>Email<span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>DisplayName<span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>UserName<span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Company<span class="token punctuation">,</span>      c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span><span class="token function">FieldsPerRow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Department<span class="token punctuation">,</span>   c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span><span class="token function">FieldsPerRow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>PhoneNumber<span class="token punctuation">,</span>  c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span>Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>Tel<span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Nickname<span class="token punctuation">,</span>     c <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            c<span class="token punctuation">.</span>Help <span class="token operator">=</span> <span class="token string">&quot;Public alias (3-12 lower alpha numeric chars)&quot;</span><span class="token punctuation">;</span>
            c<span class="token punctuation">.</span>Pattern <span class="token operator">=</span> <span class="token string">&quot;^[a-z][a-z0-9_.-]{3,12}$&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>ProfileUrl<span class="token punctuation">,</span>   c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span>Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>Url<span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>IsArchived<span class="token punctuation">,</span>   c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span><span class="token function">FieldsPerRow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>ArchivedDate<span class="token punctuation">,</span> c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span><span class="token function">FieldsPerRow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Which is able to specify the grid layout it should use from different responsive breakpoints:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">InputInfo</span> <span class="token function">FieldsPerRow</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">InputInfo</span> input<span class="token punctuation">,</span> 
    <span class="token class-name"><span class="token keyword">int</span></span> sm<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> md <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> lg <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> xl <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> xl2 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
</code></pre></div><p>This just simplifies choosing the responsive <a href="https://tailwindcss.com/docs/grid-column" target="_blank" rel="noopener noreferrer">TailwindCss grid classes</a> we want, in this case renders <strong>2 fields per row</strong> from the <code>sm</code> responsive <a href="https://tailwindcss.com/docs/screens" target="_blank" rel="noopener noreferrer">Tailwind breakpoint</a> by expanding to:</p><div class="language-csharp"><pre><code>Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>UserAuth<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>FirstName<span class="token punctuation">,</span> c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span>Input<span class="token punctuation">.</span>Css<span class="token punctuation">.</span>Field <span class="token operator">=</span> <span class="token string">&quot;col-span-12 sm:col-span-6&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>Which continues to render our preferred form layout:</p><div class="flex justify-center py-8"><a href="https://blazor-tailwind-api.jamstacks.net/admin-ui/users?edit=2"><img src="`+I+`" style="max-width:800px;"></a></div><h4 id="input-fromgridlayout" tabindex="-1">Input.FromGridLayout <a class="header-anchor" href="#input-fromgridlayout" aria-hidden="true">#</a></h4><p>Developers who prefer the former visual grid layout can use the <code>Input.FromGridLayout()</code> helper to convert to the new flattened layout. This lets us maintain backwards compatibility with the former nested list layout when configuring <code>AdminUsersFeature</code></p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>List<span class="token punctuation">&lt;</span>InputInfo<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> UserFormLayout
<span class="token punctuation">{</span>
    <span class="token keyword">set</span> <span class="token operator">=&gt;</span> FormLayout <span class="token operator">=</span> Input<span class="token punctuation">.</span><span class="token function">FromGridLayout</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>But developers who&#39;ve specified custom API Forms will need to transition to the new flattened layout or use <code>Input.FromGridLayout()</code></p><div class="language-csharp"><pre><code>appHost<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ConfigureOperation</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Register<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>op <span class="token operator">=&gt;</span> op<span class="token punctuation">.</span>FormLayout <span class="token operator">=</span> Input<span class="token punctuation">.</span><span class="token function">FromGridLayout</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="servicestack-client-upgraded-to-es2015" tabindex="-1">@servicestack/client upgraded to ES2015 <a class="header-anchor" href="#servicestack-client-upgraded-to-es2015" aria-hidden="true">#</a></h3><p>The target for <a href="https://github.com/ServiceStack/servicestack-client/" target="_blank" rel="noopener noreferrer">@servicestack/client</a> has been upgraded to <strong>ES2015</strong> which results in cleaner &amp; leaner code generation with fewer polyfills to workaround missing JavaScript features.</p><p>This does mean that it no longer supports <strong>Internet Explorer 11</strong> which was released in 2013. The last version supporting <strong>ES5</strong> and Internet Explorer is <strong>1.1.21</strong>:</p><div class="language-json"><pre><code><span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@servicestack/client&quot;</span><span class="token operator">:</span> <span class="token string">&quot;~1.1.21&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div>`,61),G=[D,U,_,R,L,M,z,E,B,N,V,J,O,H,j,W,Q];function $(Z,K,X,Y,nn,sn){return T(),S("div",null,G)}var yn=F(P,[["render",$]]);export{hn as __pageData,yn as default};
